/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MemMasterPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/settings/storage.ts
var DEFAULT_SETTINGS = {
  sourceMode: "tag",
  tagName: "flashcard",
  folderName: "Flashcards",
  isBlurFlashcardText: true,
  openInPreviewMode: true
};
async function loadSettings(plugin) {
  return Object.assign({}, DEFAULT_SETTINGS, await plugin.loadData());
}
async function saveSettings(plugin, settings) {
  await plugin.saveData(settings);
}

// src/settings/ui.ts
var import_obsidian = require("obsidian");

// src/core/events.ts
var PLUGIN_EVENTS = {
  CARD_UPDATED: "memmaster:card-updated",
  CARD_CREATED: "memmaster:card-created",
  CARD_DELETED: "memmaster:card-deleted",
  SETTINGS_UPDATED: "memmaster:settings-updated"
};

// src/settings/ui.ts
var MemMasterPluginSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    const { i18n } = this.plugin;
    containerEl.empty();
    containerEl.createEl("h3", { text: i18n.t("settings.flashcardSourceHeading") });
    new import_obsidian.Setting(containerEl).setName(i18n.t("settings.cardSource.name")).setDesc(i18n.t("settings.cardSource.desc")).addDropdown(
      (dropdown) => dropdown.addOption("tag", i18n.t("settings.sourceMode.tag")).addOption("folder", i18n.t("settings.sourceMode.folder")).setValue(this.plugin.settings.sourceMode).onChange(async (value) => {
        this.plugin.settings.sourceMode = value;
        await this.plugin.saveSettings();
        this.display();
        this.plugin.events.trigger(PLUGIN_EVENTS.SETTINGS_UPDATED);
      })
    );
    if (this.plugin.settings.sourceMode === "tag") {
      new import_obsidian.Setting(containerEl).setName(i18n.t("settings.tagName.name")).setDesc(i18n.t("settings.tagName.desc")).addText(
        (text) => text.setPlaceholder(i18n.t("settings.tagName.placeholder")).setValue(this.plugin.settings.tagName).onChange(async (value) => {
          this.plugin.settings.tagName = value;
          await this.plugin.saveSettings();
          this.plugin.events.trigger(PLUGIN_EVENTS.SETTINGS_UPDATED);
        })
      );
    }
    if (this.plugin.settings.sourceMode === "folder") {
      new import_obsidian.Setting(containerEl).setName(i18n.t("settings.folderName.name")).setDesc(i18n.t("settings.folderName.desc")).addText(
        (text) => text.setPlaceholder(i18n.t("settings.folderName.placeholder")).setValue(this.plugin.settings.folderName).onChange(async (value) => {
          this.plugin.settings.folderName = value;
          await this.plugin.saveSettings();
          this.plugin.events.trigger(PLUGIN_EVENTS.SETTINGS_UPDATED);
        })
      );
    }
    containerEl.createEl("hr");
    containerEl.createEl("h3", { text: i18n.t("settings.reviewListHeading") });
    new import_obsidian.Setting(containerEl).setName(i18n.t("settings.isBlurFlashcardText.name")).setDesc(i18n.t("settings.isBlurFlashcardText.desc")).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.isBlurFlashcardText).onChange(async (value) => {
        this.plugin.settings.isBlurFlashcardText = value;
        await this.plugin.saveSettings();
        this.plugin.events.trigger(PLUGIN_EVENTS.SETTINGS_UPDATED);
      })
    );
    new import_obsidian.Setting(containerEl).setName(i18n.t("settings.openInPreviewMode.name")).setDesc(i18n.t("settings.openInPreviewMode.desc")).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.openInPreviewMode).onChange(async (value) => {
        this.plugin.settings.openInPreviewMode = value;
        await this.plugin.saveSettings();
        this.plugin.events.trigger(PLUGIN_EVENTS.SETTINGS_UPDATED);
      })
    );
    containerEl.createEl("hr");
    containerEl.createEl("h3", { text: i18n.t("settings.hotkeysHeading") });
    containerEl.createEl("p", {
      text: i18n.t("settings.hotkeysDesc"),
      cls: "setting-item-description"
    });
  }
};

// src/review-list/ui.ts
var import_obsidian2 = require("obsidian");

// src/core/utils.ts
function sleep(ms) {
  return new Promise((resolve) => setTimeout(resolve, ms));
}
function isFileInFolder(filePath, folderPath) {
  const folderSegments = folderPath.split("/");
  const filePathSegments = filePath.split("/");
  for (let i = 0; i <= filePathSegments.length - folderSegments.length; i++) {
    let match = true;
    for (let j = 0; j < folderSegments.length; j++) {
      if (filePathSegments[i + j] !== folderSegments[j]) {
        match = false;
        break;
      }
    }
    if (match) {
      return true;
    }
  }
  return false;
}

// src/core/finder.ts
function hasTagInContent(content, rawTagName) {
  const tagName = rawTagName.replace(/^#/, "");
  const inlineRegex = new RegExp(`(^|\\s)#${tagName}(\\b|$)`, "i");
  const hasInlineTag = inlineRegex.test(content);
  let hasYamlTag = false;
  const fmMatch = content.match(/^---\n([\s\S]*?)\n---/);
  if (fmMatch) {
    const fm = fmMatch[1];
    const tagsLine = fm.split("\n").find((l) => l.trim().toLowerCase().startsWith("tags:"));
    if (tagsLine) {
      const tagsPart = tagsLine.split(":").slice(1).join(":").trim();
      const yamlRegex = new RegExp(`\\b${tagName}\\b`, "i");
      hasYamlTag = yamlRegex.test(tagsPart);
    }
  }
  return hasInlineTag || hasYamlTag;
}
async function isFileFlashcard(plugin, file) {
  var _a;
  if (plugin.settings.sourceMode === "folder") {
    const raw = (_a = plugin.settings.folderName) != null ? _a : "";
    const folderPath = raw.trim().replace(/^\/+|\/+$/g, "");
    if (!folderPath) {
      return false;
    }
    return isFileInFolder(file.path, folderPath);
  }
  const content = await plugin.app.vault.cachedRead(file);
  return hasTagInContent(content, plugin.settings.tagName);
}
function extractMetadata(content, file) {
  const frontmatterMatch = content.match(/^---\n([\s\S]*?)\n---/);
  if (!frontmatterMatch) {
    return null;
  }
  const frontmatter = frontmatterMatch[1];
  let hasNextReview = false;
  let hasStage = false;
  const metadata = {
    nextReview: "",
    stage: "0",
    file,
    content
  };
  frontmatter.split("\n").forEach((line) => {
    const colonIndex = line.indexOf(":");
    if (colonIndex === -1)
      return;
    const key = line.substring(0, colonIndex).trim();
    const value = line.substring(colonIndex + 1).trim();
    if (key === "memmaster-next-review") {
      metadata.nextReview = value;
      hasNextReview = true;
    }
    if (key === "memmaster-stage") {
      metadata.stage = value;
      hasStage = true;
    }
  });
  if (!hasNextReview || !hasStage) {
    return null;
  }
  return metadata;
}
function isCardDueForReview(metadata) {
  if (!metadata.nextReview)
    return true;
  const today = new Date();
  today.setHours(0, 0, 0, 0);
  const reviewDate = new Date(metadata.nextReview);
  reviewDate.setHours(0, 0, 0, 0);
  return reviewDate <= today;
}
function sortFlashcards(cards) {
  return cards.sort((a, b) => {
    if (!a.nextReview)
      return -1;
    if (!b.nextReview)
      return 1;
    return new Date(a.nextReview).getTime() - new Date(b.nextReview).getTime();
  });
}
async function getFlashcardsForReview(plugin) {
  const files = plugin.app.vault.getMarkdownFiles();
  const cardMetadata = [];
  for (const file of files) {
    const shouldInclude = await isFileFlashcard(plugin, file);
    if (shouldInclude) {
      const content = await plugin.app.vault.cachedRead(file);
      const extracted = extractMetadata(content, file);
      const metadata = extracted != null ? extracted : {
        nextReview: "",
        stage: "0",
        file,
        content
      };
      if (isCardDueForReview(metadata)) {
        cardMetadata.push(metadata);
      }
    }
  }
  return sortFlashcards(cardMetadata);
}

// src/review-list/ui.ts
var _ReviewListView = class extends import_obsidian2.ItemView {
  // Handler reference for cleanup
  constructor(leaf, plugin) {
    super(leaf);
    this.searchQuery = "";
    // Add search state
    this.sortOrder = "oldest-first";
    // Add sort order state
    this.documentClickHandler = null;
    this.plugin = plugin;
  }
  getViewType() {
    return _ReviewListView.VIEW_TYPE;
  }
  getDisplayText() {
    return this.plugin.i18n.t("reviewList.viewTitle");
  }
  // New method to render content
  async renderContent() {
    const container = this.contentEl;
    container.empty();
    const searchContainer = container.createDiv({
      cls: "mm-search-container"
    });
    const searchWrapper = searchContainer.createDiv({
      cls: "mm-search-wrapper"
    });
    const searchIcon = searchWrapper.createEl("span", {
      cls: "mm-search-icon"
    });
    searchIcon.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
			<circle cx="11" cy="11" r="8"></circle>
			<path d="m21 21-4.35-4.35"></path>
		</svg>`;
    const searchInput = searchWrapper.createEl("input", {
      type: "text",
      cls: "mm-search-input",
      placeholder: this.plugin.i18n.t("reviewList.searchPlaceholder"),
      value: this.searchQuery
    });
    searchInput.addEventListener("input", (e) => {
      this.searchQuery = e.target.value.toLowerCase();
      this.filterCards();
    });
    const sortWrapper = searchContainer.createDiv({
      cls: "mm-sort-wrapper"
    });
    const sortLabel = sortWrapper.createEl("label", {
      cls: "mm-sort-label",
      text: this.plugin.i18n.t("reviewList.sortLabel")
    });
    const customDropdown = sortWrapper.createDiv({
      cls: "mm-custom-dropdown"
    });
    const selectedDisplay = customDropdown.createDiv({
      cls: "mm-dropdown-selected"
    });
    const selectedText = selectedDisplay.createEl("span", {
      cls: "mm-dropdown-selected-text",
      text: this.sortOrder === "oldest-first" ? this.plugin.i18n.t("reviewList.sortOldestFirst") : this.plugin.i18n.t("reviewList.sortNewestFirst")
    });
    const dropdownArrow = selectedDisplay.createEl("span", {
      cls: "mm-dropdown-arrow"
    });
    dropdownArrow.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>`;
    const optionsContainer = customDropdown.createDiv({
      cls: "mm-dropdown-options"
    });
    const dropdownBorder = customDropdown.createDiv({
      cls: "mm-dropdown-border"
    });
    const sortOptions = [
      { value: "oldest-first", text: this.plugin.i18n.t("reviewList.sortOldestFirst") },
      { value: "newest-first", text: this.plugin.i18n.t("reviewList.sortNewestFirst") }
    ];
    sortOptions.forEach((option) => {
      const optionEl = optionsContainer.createDiv({
        cls: `mm-dropdown-option ${this.sortOrder === option.value ? "mm-dropdown-option-selected" : ""}`,
        attr: { "data-value": option.value }
      });
      optionEl.setText(option.text);
      optionEl.addEventListener("click", (e) => {
        e.stopPropagation();
        this.sortOrder = option.value;
        selectedText.setText(option.text);
        optionsContainer.querySelectorAll(".mm-dropdown-option").forEach((opt) => {
          opt.removeClass("mm-dropdown-option-selected");
        });
        optionEl.addClass("mm-dropdown-option-selected");
        customDropdown.removeClass("mm-dropdown-open");
        this.sortCards();
      });
    });
    selectedDisplay.addEventListener("click", (e) => {
      e.stopPropagation();
      const isOpening = !customDropdown.hasClass("mm-dropdown-open");
      customDropdown.toggleClass("mm-dropdown-open", isOpening);
      if (isOpening) {
        requestAnimationFrame(() => {
          const optionsHeight = optionsContainer.offsetHeight;
          dropdownBorder.style.setProperty("--dropdown-options-height", `${optionsHeight}px`);
        });
      }
    });
    if (this.documentClickHandler) {
      document.removeEventListener("click", this.documentClickHandler);
    }
    this.documentClickHandler = () => {
      customDropdown.removeClass("mm-dropdown-open");
    };
    document.addEventListener("click", this.documentClickHandler);
    selectedDisplay.addEventListener("mousemove", (e) => {
      if (!customDropdown.hasClass("mm-dropdown-open")) {
        const rect = selectedDisplay.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width * 100;
        const y = (e.clientY - rect.top) / rect.height * 100;
        selectedDisplay.style.setProperty("--mouse-x", `${x}%`);
        selectedDisplay.style.setProperty("--mouse-y", `${y}%`);
      }
    });
    customDropdown.addEventListener("mousemove", (e) => {
      if (customDropdown.hasClass("mm-dropdown-open")) {
        const selectedRect = selectedDisplay.getBoundingClientRect();
        const optionsRect = optionsContainer.getBoundingClientRect();
        const top = selectedRect.top;
        const left = selectedRect.left;
        const right = selectedRect.right;
        const bottom = optionsRect.bottom;
        const width = right - left;
        const height = bottom - top;
        const x = (e.clientX - left) / width * 100;
        const y = (e.clientY - top) / height * 100;
        dropdownBorder.style.setProperty("--mouse-x", `${x}%`);
        dropdownBorder.style.setProperty("--mouse-y", `${y}%`);
      }
    });
    const grid = container.createDiv({
      cls: "mm-card-grid"
    });
    const sortedFlashcards = await getFlashcardsForReview(this.plugin);
    if (sortedFlashcards.length === 0) {
      const noFlashcardsMessage = container.createDiv({ cls: "mm-no-flashcards" });
      noFlashcardsMessage.setText(this.plugin.i18n.t("reviewList.noFlashcards"));
      return;
    }
    const noResultsMessage = container.createDiv({
      cls: "mm-no-search-results",
      attr: { style: "display: none;" }
    });
    noResultsMessage.setText(this.plugin.i18n.t("reviewList.noSearchResults"));
    for (const metadata of sortedFlashcards) {
      const card = grid.createDiv({ cls: "mm-card" });
      const blurClass = this.plugin.settings.isBlurFlashcardText ? "mm-blur-enabled" : "mm-blur-disabled";
      card.classList.add(blurClass);
      card.setAttribute("data-filename", metadata.file.basename.toLowerCase());
      card.setAttribute("data-content", metadata.content.toLowerCase());
      let daysOverdue = 0;
      if (metadata.nextReview) {
        const reviewDate = new Date(metadata.nextReview);
        daysOverdue = Math.floor((new Date().getTime() - reviewDate.getTime()) / (1e3 * 60 * 60 * 24));
      }
      card.setAttribute("data-overdue-days", daysOverdue.toString());
      const headerContainer = card.createDiv({ cls: "mm-card-header" });
      headerContainer.createEl("h4", { text: metadata.file.basename });
      if (metadata.nextReview) {
        headerContainer.createEl("span", {
          cls: "mm-review-info",
          text: daysOverdue > 0 ? this.plugin.i18n.t("reviewList.overdueByDays", { days: daysOverdue.toString() }) : this.plugin.i18n.t("reviewList.dueToday")
        });
      }
      const lines = metadata.content.split("\n");
      const tags = lines.filter((line) => {
        const trimmedLine = line.trim();
        if (/^#+\s/.test(trimmedLine)) {
          return false;
        }
        return line.includes("#");
      });
      const tagsHTML = tags.map((line) => {
        return line.split(/\s+/).filter((word) => {
          return word.startsWith("#") && word.length > 1 && word[1] !== "#";
        }).map((tag) => `<p>${tag}</p>`).join(" ");
      }).join(" ");
      const extractedTags = tags.flatMap((line) => {
        return line.split(/\s+/).filter((word) => word.startsWith("#") && word.length > 1 && word[1] !== "#");
      }).join(" ").toLowerCase();
      card.setAttribute("data-tags", extractedTags);
      const contentWithoutTags = metadata.content.replace(/^---[\s\S]*?---/, "").replace(/#[^\s#]+/g, "").replace(/\n+/g, " ").trim();
      const truncatedContent = contentWithoutTags.slice(0, 128);
      const fullHTML = `<div class="mm-card-tags">${tagsHTML}</div><p class="mm-card-text">${truncatedContent}</p>`;
      const contentEl = card.createDiv();
      contentEl.className = "mm-card-content";
      contentEl.innerHTML = fullHTML;
      const button = card.createEl("span", {
        cls: "mm-open-card-button"
      });
      button.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
            </svg>`;
      card.addEventListener("click", async () => {
        await this.app.workspace.openLinkText(metadata.file.path, "/", false);
        if (this.plugin.settings.openInPreviewMode) {
          setTimeout(async () => {
            var _a;
            const view = this.app.workspace.getActiveViewOfType(import_obsidian2.MarkdownView);
            if (view && ((_a = view.file) == null ? void 0 : _a.path) === metadata.file.path) {
              const leaves = this.app.workspace.getLeavesOfType("markdown");
              const leaf = leaves.find((l) => l.view === view);
              if (leaf) {
                const currentState = leaf.getViewState();
                await leaf.setViewState({
                  type: "markdown",
                  state: { ...currentState.state, mode: "preview" }
                });
              }
            }
          }, 100);
        }
      });
      card.addEventListener("mousemove", (e) => {
        const rect = card.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width * 100;
        const y = (e.clientY - rect.top) / rect.height * 100;
        card.style.setProperty("--mouse-x", `${x}%`);
        card.style.setProperty("--mouse-y", `${y}%`);
      });
    }
    if (this.searchQuery) {
      this.filterCards();
    }
    this.sortCards();
  }
  // New method to filter cards based on search query
  filterCards() {
    const cards = this.contentEl.querySelectorAll(".mm-card");
    const noResultsMessage = this.contentEl.querySelector(".mm-no-search-results");
    const query = this.searchQuery;
    let hasVisibleCards = false;
    cards.forEach((card) => {
      const filename = card.getAttribute("data-filename") || "";
      const content = card.getAttribute("data-content") || "";
      const tags = card.getAttribute("data-tags") || "";
      const matches = filename.includes(query) || content.includes(query) || tags.includes(query);
      if (matches) {
        card.style.display = "";
        hasVisibleCards = true;
      } else {
        card.style.display = "none";
      }
    });
    if (noResultsMessage) {
      if (!hasVisibleCards && query.length > 0) {
        noResultsMessage.style.display = "block";
      } else {
        noResultsMessage.style.display = "none";
      }
    }
  }
  // Method to sort cards based on sort order
  sortCards() {
    const grid = this.contentEl.querySelector(".mm-card-grid");
    if (!grid)
      return;
    const cards = Array.from(grid.querySelectorAll(".mm-card"));
    cards.sort((a, b) => {
      const daysA = parseInt(a.getAttribute("data-overdue-days") || "0");
      const daysB = parseInt(b.getAttribute("data-overdue-days") || "0");
      if (this.sortOrder === "oldest-first") {
        return daysB - daysA;
      } else {
        return daysA - daysB;
      }
    });
    cards.forEach((card) => grid.appendChild(card));
  }
  async onOpen() {
    this.containerEl.addClass("mm-view");
    await this.renderContent();
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", (leaf) => {
        if ((leaf == null ? void 0 : leaf.view) === this) {
          this.renderContent();
        }
      })
    );
    this.registerEvent(
      this.plugin.events.on(PLUGIN_EVENTS.CARD_UPDATED, () => {
        this.renderContent();
      })
    );
    this.registerEvent(
      this.plugin.events.on(PLUGIN_EVENTS.SETTINGS_UPDATED, () => {
        this.renderContent();
      })
    );
  }
  async onClose() {
    if (this.documentClickHandler) {
      document.removeEventListener("click", this.documentClickHandler);
      this.documentClickHandler = null;
    }
    this.containerEl.empty();
  }
};
var ReviewListView = _ReviewListView;
ReviewListView.VIEW_TYPE = "review-list-view";

// src/core/scheduler.ts
var import_obsidian3 = require("obsidian");
function parseFrontmatter(content) {
  const frontmatterMatch = content.match(/^---\n([\s\S]*?)\n---/);
  const frontmatter = frontmatterMatch ? frontmatterMatch[1] : "";
  const body = frontmatterMatch ? content.replace(frontmatterMatch[0], "").trim() : content;
  const metadata = {};
  frontmatter.split("\n").forEach((line) => {
    const colonIndex = line.indexOf(":");
    if (colonIndex !== -1) {
      const key = line.substring(0, colonIndex).trim();
      const value = line.substring(colonIndex + 1).trim();
      if (key && value) {
        metadata[key] = value;
      }
    }
  });
  return { metadata, body };
}
async function updateCardMetadata(plugin, file, difficulty) {
  const content = await plugin.app.vault.read(file);
  const { metadata, body } = parseFrontmatter(content);
  const now = new Date();
  let nextInterval;
  let stage = parseInt(metadata["memmaster-stage"] || "0");
  if (difficulty === "easy") {
    nextInterval = Math.pow(2, stage);
    stage++;
  } else if (difficulty === "medium") {
    nextInterval = Math.pow(1.5, stage);
    stage++;
  } else if (difficulty === "hard") {
    nextInterval = Math.max(1, Math.floor(Math.pow(1.2, stage)));
    stage++;
  } else {
    nextInterval = 1;
    stage++;
  }
  if (stage > 10) {
    await plugin.app.vault.modify(file, body);
    new import_obsidian3.Notice(plugin.i18n.t("notices.cardMastered"));
    plugin.events.trigger(PLUGIN_EVENTS.CARD_UPDATED);
    return;
  }
  const nextDate = new Date(now.getTime() + nextInterval * 24 * 60 * 60 * 1e3);
  metadata["memmaster-next-review"] = nextDate.toISOString().split("T")[0];
  metadata["memmaster-stage"] = stage.toString();
  const newFrontmatter = "---\n" + Object.entries(metadata).map(([key, value]) => `${key}: ${value}`).join("\n") + "\n---\n";
  await plugin.app.vault.modify(file, newFrontmatter + "\n" + body);
  new import_obsidian3.Notice(plugin.i18n.t("notices.cardUpdated", { date: metadata["memmaster-next-review"] }));
  plugin.events.trigger(PLUGIN_EVENTS.CARD_UPDATED);
}
async function makeFlashcard(plugin, file) {
  const content = await plugin.app.vault.read(file);
  const { metadata, body } = parseFrontmatter(content);
  const now = new Date();
  metadata["memmaster-next-review"] = now.toISOString().split("T")[0];
  metadata["memmaster-stage"] = "0";
  if (plugin.settings.sourceMode === "tag") {
    const tagName = plugin.settings.tagName || "flashcard";
    const tag = tagName.startsWith("#") ? tagName : `#${tagName}`;
    const tagRegex = new RegExp(`(^|\\s)${tag.replace("#", "\\#")}(\\b|$)`, "i");
    if (tagRegex.test(content)) {
      new import_obsidian3.Notice(plugin.i18n.t("notices.alreadyFlashcard"));
      return false;
    }
    let hasTagInFrontmatter = false;
    if (metadata["tags"]) {
      const tags = metadata["tags"];
      if (tags.includes(tagName)) {
        hasTagInFrontmatter = true;
      }
    }
    if (hasTagInFrontmatter) {
      new import_obsidian3.Notice(plugin.i18n.t("notices.alreadyFlashcard"));
      return false;
    }
    let newBody = body.replace(/^\n+/, "").replace(/\n+$/, "");
    if (newBody.length > 0) {
      newBody = tag + "\n\n" + newBody;
    } else {
      newBody = tag + "\n";
    }
    const newFrontmatter = "---\n" + Object.entries(metadata).map(([key, value]) => `${key}: ${value}`).join("\n") + "\n---";
    await plugin.app.vault.modify(file, newFrontmatter + "\n" + newBody);
    new import_obsidian3.Notice(plugin.i18n.t("notices.flashcardCreated") + " - " + plugin.i18n.t("notices.tagAdded", { tag }));
    plugin.events.trigger(PLUGIN_EVENTS.CARD_UPDATED);
    return true;
  } else if (plugin.settings.sourceMode === "folder") {
    const folderPath = plugin.settings.folderName || "Flashcards";
    const cleanFolderPath = folderPath.trim().replace(/^\/+|\/+$/g, "");
    if (isFileInFolder(file.path, cleanFolderPath)) {
      new import_obsidian3.Notice(plugin.i18n.t("notices.alreadyFlashcard"));
      return false;
    }
    const folder = plugin.app.vault.getAbstractFileByPath(cleanFolderPath);
    if (!folder) {
      await plugin.app.vault.createFolder(cleanFolderPath);
    }
    const newPath = `${cleanFolderPath}/${file.name}`;
    const newFrontmatter = "---\n" + Object.entries(metadata).map(([key, value]) => `${key}: ${value}`).join("\n") + "\n---\n";
    await plugin.app.vault.modify(file, newFrontmatter + "\n" + body);
    await plugin.app.fileManager.renameFile(file, newPath);
    new import_obsidian3.Notice(plugin.i18n.t("notices.flashcardCreated") + " - " + plugin.i18n.t("notices.movedToFolder", { folder: cleanFolderPath }));
    plugin.events.trigger(PLUGIN_EVENTS.CARD_UPDATED);
    return true;
  }
  return false;
}

// src/review-flashcard/ui.ts
function createButtonContainer(file, plugin) {
  const buttonContainer = document.createElement("div");
  buttonContainer.className = "mm-estimation-card-buttons-container";
  const textButtonContainer = document.createElement("p");
  textButtonContainer.className = "mm-estimation-card-text";
  textButtonContainer.textContent = plugin.i18n.t("reviewFlashcard.difficultyQuestion");
  const buttonGroup = document.createElement("div");
  buttonGroup.className = "mm-estimation-card-buttons-block";
  const easyButton = document.createElement("button");
  easyButton.className = "mm-estimation-card-button mm-easy-button";
  easyButton.textContent = plugin.i18n.t("reviewFlashcard.easy");
  easyButton.addEventListener("click", async (e) => {
    e.preventDefault();
    e.stopPropagation();
    await updateCardMetadata(plugin, file, "easy");
  });
  const mediumButton = document.createElement("button");
  mediumButton.className = "mm-estimation-card-button mm-medium-button";
  mediumButton.textContent = plugin.i18n.t("reviewFlashcard.medium");
  mediumButton.addEventListener("click", async (e) => {
    e.preventDefault();
    e.stopPropagation();
    await updateCardMetadata(plugin, file, "medium");
  });
  const hardButton = document.createElement("button");
  hardButton.className = "mm-estimation-card-button mm-hard-button";
  hardButton.textContent = plugin.i18n.t("reviewFlashcard.hard");
  hardButton.addEventListener("click", async (e) => {
    e.preventDefault();
    e.stopPropagation();
    await updateCardMetadata(plugin, file, "hard");
  });
  buttonGroup.appendChild(easyButton);
  buttonGroup.appendChild(mediumButton);
  buttonGroup.appendChild(hardButton);
  buttonContainer.appendChild(textButtonContainer);
  buttonContainer.appendChild(buttonGroup);
  buttonContainer.addEventListener("mousemove", (e) => {
    const rect = buttonContainer.getBoundingClientRect();
    const x = (e.clientX - rect.left) / rect.width * 100;
    const y = (e.clientY - rect.top) / rect.height * 100;
    buttonContainer.style.setProperty("--mouse-x", `${x}%`);
    buttonContainer.style.setProperty("--mouse-y", `${y}%`);
  });
  return buttonContainer;
}
async function syncFlashcardButtons(view, plugin, options = {}) {
  var _a, _b;
  const {
    delay = 0,
    cleanupMisplaced = true,
    removeIfNoTag = true
  } = options;
  if (delay > 0) {
    await sleep(delay);
  }
  if (!view.file)
    return;
  const hasCardTag = await isFileFlashcard(plugin, view.file);
  if (!hasCardTag) {
    if (removeIfNoTag) {
      const existingContainers = document.querySelectorAll(".mm-estimation-card-buttons-container");
      existingContainers.forEach((container) => container.remove());
    }
    return;
  }
  const containerEl = (_b = (_a = view.previewMode) == null ? void 0 : _a.containerEl) != null ? _b : view.containerEl;
  const previewSections = containerEl.querySelectorAll(".markdown-preview-section");
  const file = view.file;
  previewSections.forEach((section) => {
    let container = section.querySelector(".mm-estimation-card-buttons-container");
    if (cleanupMisplaced && container && container.parentElement !== section) {
      container.remove();
      container = null;
    }
    if (!container) {
      const buttonContainer = createButtonContainer(file, plugin);
      section.appendChild(buttonContainer);
    }
  });
}

// src/i18n/i18n.ts
var import_obsidian4 = require("obsidian");

// src/i18n/en.json
var en_default = {
  ribbonIcon: {
    openReviewFlashcards: "Open repetition flashcards"
  },
  commands: {
    openReviewListView: "Open Review List View",
    markAsEasy: "Mark current card as Easy",
    markAsMedium: "Mark current card as Medium",
    markAsHard: "Mark current card as Hard",
    makeFlashcard: "Make current document a flashcard"
  },
  settings: {
    flashcardSourceHeading: "Flashcard source settings",
    cardSource: {
      name: "Card source",
      desc: "Choose how to find flashcards for review: by tag or by folder location"
    },
    tagName: {
      name: "Tag name",
      desc: "Enter the tag name to use",
      placeholder: "#flashcard"
    },
    folderName: {
      name: "Folder name",
      desc: "Enter the folder path to use",
      placeholder: "Flashcards"
    },
    reviewListHeading: "Review list settings",
    isBlurFlashcardText: {
      name: "Blur flashcard text",
      desc: "Blur flashcard content in review list until mouse hover"
    },
    openInPreviewMode: {
      name: "Open cards in reading mode",
      desc: "Open flashcards from review list in reading mode (preview). Important: enabling this setting is required for review buttons to appear on cards."
    },
    hotkeysHeading: "Hotkeys settings",
    hotkeysDesc: "Configure keyboard shortcuts for quick card review. Set hotkeys in Settings > Hotkeys > MemMaster.",
    sourceMode: {
      tag: "Tag",
      folder: "Folder"
    }
  },
  reviewFlashcard: {
    difficultyQuestion: "How difficult was this card?",
    easy: "Easy",
    medium: "Medium",
    hard: "Hard"
  },
  reviewList: {
    viewTitle: "Repetition flashcards",
    searchPlaceholder: "Search flashcards...",
    noFlashcards: "No flashcards due for review.",
    noSearchResults: "No flashcards found matching your search.",
    overdueByDays: "Overdue by {{days}} days",
    dueToday: "Due today",
    sortLabel: "Sort:",
    sortOldestFirst: "Most overdue first",
    sortNewestFirst: "Least overdue first"
  },
  notices: {
    notAFlashcard: "This document is not a flashcard",
    noActiveFile: "No active file",
    flashcardCreated: "Document marked as flashcard",
    tagAdded: "Tag added: {{tag}}",
    movedToFolder: "Moved to folder: {{folder}}",
    alreadyFlashcard: "This document is already a flashcard",
    cardMastered: "Card mastered! Metadata cleared.",
    cardUpdated: "Updated card: next review on {{date}}"
  }
};

// src/i18n/ru.json
var ru_default = {
  ribbonIcon: {
    openReviewFlashcards: "\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0438 \u0434\u043B\u044F \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u044F"
  },
  commands: {
    openReviewListView: "\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0441\u043F\u0438\u0441\u043E\u043A \u0434\u043B\u044F \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u044F",
    markAsEasy: "\u041E\u0442\u043C\u0435\u0442\u0438\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0443 \u043A\u0430\u043A \u041B\u0435\u0433\u043A\u0430\u044F",
    markAsMedium: "\u041E\u0442\u043C\u0435\u0442\u0438\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0443 \u043A\u0430\u043A \u0421\u0440\u0435\u0434\u043D\u044F\u044F",
    markAsHard: "\u041E\u0442\u043C\u0435\u0442\u0438\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0443 \u043A\u0430\u043A \u0421\u043B\u043E\u0436\u043D\u0430\u044F",
    makeFlashcard: "\u0421\u0434\u0435\u043B\u0430\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442 \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u043E\u0439"
  },
  settings: {
    flashcardSourceHeading: "\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430 \u043A\u0430\u0440\u0442\u043E\u0447\u0435\u043A",
    cardSource: {
      name: "\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u043A\u0430\u0440\u0442\u043E\u0447\u0435\u043A",
      desc: "\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043F\u043E\u0441\u043E\u0431 \u043F\u043E\u0438\u0441\u043A\u0430 \u043A\u0430\u0440\u0442\u043E\u0447\u0435\u043A \u0434\u043B\u044F \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u044F: \u043F\u043E \u0442\u0435\u0433\u0443 \u0438\u043B\u0438 \u043F\u043E \u043F\u0430\u043F\u043A\u0435"
    },
    tagName: {
      name: "\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0442\u0435\u0433\u0430",
      desc: "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0442\u0435\u0433\u0430 \u0434\u043B\u044F \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F",
      placeholder: "#\u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0430"
    },
    folderName: {
      name: "\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u0430\u043F\u043A\u0438",
      desc: "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0443\u0442\u044C \u043A \u043F\u0430\u043F\u043A\u0435 \u0434\u043B\u044F \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F",
      placeholder: "\u041A\u0430\u0440\u0442\u043E\u0447\u043A\u0438"
    },
    reviewListHeading: "\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u043F\u0438\u0441\u043A\u0430 \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439",
    isBlurFlashcardText: {
      name: "\u0420\u0430\u0437\u043C\u044B\u0442\u044C \u0442\u0435\u043A\u0441\u0442 \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0438",
      desc: "\u0420\u0430\u0437\u043C\u044B\u0432\u0430\u0442\u044C \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u0435 \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0438 \u0432 \u0441\u043F\u0438\u0441\u043A\u0435 \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439 \u0434\u043E \u043D\u0430\u0432\u0435\u0434\u0435\u043D\u0438\u044F \u043C\u044B\u0448\u0438"
    },
    openInPreviewMode: {
      name: "\u041E\u0442\u043A\u0440\u044B\u0432\u0430\u0442\u044C \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0438 \u0432 \u0440\u0435\u0436\u0438\u043C\u0435 \u0447\u0442\u0435\u043D\u0438\u044F",
      desc: "\u041E\u0442\u043A\u0440\u044B\u0432\u0430\u0442\u044C \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0438 \u0438\u0437 \u0441\u043F\u0438\u0441\u043A\u0430 \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439 \u0432 \u0440\u0435\u0436\u0438\u043C\u0435 \u0447\u0442\u0435\u043D\u0438\u044F (preview). \u0412\u0430\u0436\u043D\u043E: \u0432\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u044D\u0442\u043E\u0439 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0434\u043B\u044F \u043F\u043E\u044F\u0432\u043B\u0435\u043D\u0438\u044F \u043A\u043D\u043E\u043F\u043E\u043A \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u044F \u043D\u0430 \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0430\u0445."
    },
    hotkeysHeading: "\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0433\u043E\u0440\u044F\u0447\u0438\u0445 \u043A\u043B\u0430\u0432\u0438\u0448",
    hotkeysDesc: "\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u0442\u0435 \u0441\u043E\u0447\u0435\u0442\u0430\u043D\u0438\u044F \u043A\u043B\u0430\u0432\u0438\u0448 \u0434\u043B\u044F \u0431\u044B\u0441\u0442\u0440\u043E\u0433\u043E \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u044F \u043A\u0430\u0440\u0442\u043E\u0447\u0435\u043A. \u041D\u0430\u0437\u043D\u0430\u0447\u044C\u0442\u0435 \u0433\u043E\u0440\u044F\u0447\u0438\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438 \u0432 \u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 > \u0413\u043E\u0440\u044F\u0447\u0438\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438 > MemMaster.",
    sourceMode: {
      tag: "\u0422\u0435\u0433",
      folder: "\u041F\u0430\u043F\u043A\u0430"
    }
  },
  reviewFlashcard: {
    difficultyQuestion: "\u041D\u0430\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0441\u043B\u043E\u0436\u043D\u043E\u0439 \u0431\u044B\u043B\u0430 \u044D\u0442\u0430 \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0430?",
    easy: "\u041B\u0435\u0433\u043A\u043E",
    medium: "\u0421\u0440\u0435\u0434\u043D\u0435",
    hard: "\u0421\u043B\u043E\u0436\u043D\u043E"
  },
  reviewList: {
    viewTitle: "\u041A\u0430\u0440\u0442\u043E\u0447\u043A\u0438 \u0434\u043B\u044F \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u044F",
    searchPlaceholder: "\u041F\u043E\u0438\u0441\u043A \u043A\u0430\u0440\u0442\u043E\u0447\u0435\u043A...",
    noFlashcards: "\u041D\u0435\u0442 \u043A\u0430\u0440\u0442\u043E\u0447\u0435\u043A \u0434\u043B\u044F \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u044F.",
    noSearchResults: "\u041A\u0430\u0440\u0442\u043E\u0447\u043A\u0438 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B.",
    overdueByDays: "\u041F\u0440\u043E\u0441\u0440\u043E\u0447\u0435\u043D\u043E \u043D\u0430 {{days}} \u0434\u043D.",
    dueToday: "\u0421\u0435\u0433\u043E\u0434\u043D\u044F",
    sortLabel: "\u0421\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u043A\u0430:",
    sortOldestFirst: "\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u0441\u0430\u043C\u044B\u0435 \u043F\u0440\u043E\u0441\u0440\u043E\u0447\u0435\u043D\u043D\u044B\u0435",
    sortNewestFirst: "\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u0430\u0438\u043C\u0435\u043D\u0435\u0435 \u043F\u0440\u043E\u0441\u0440\u043E\u0447\u0435\u043D\u043D\u044B\u0435"
  },
  notices: {
    notAFlashcard: "\u042D\u0442\u043E\u0442 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442 \u043D\u0435 \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u043E\u0439",
    noActiveFile: "\u041D\u0435\u0442 \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0430",
    flashcardCreated: "\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442 \u043E\u0442\u043C\u0435\u0447\u0435\u043D \u043A\u0430\u043A \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0430",
    tagAdded: "\u0422\u0435\u0433 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D: {{tag}}",
    movedToFolder: "\u041F\u0435\u0440\u0435\u043C\u0435\u0449\u0435\u043D\u043E \u0432 \u043F\u0430\u043F\u043A\u0443: {{folder}}",
    alreadyFlashcard: "\u042D\u0442\u043E\u0442 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442 \u0443\u0436\u0435 \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u043E\u0439",
    cardMastered: "\u041A\u0430\u0440\u0442\u043E\u0447\u043A\u0430 \u043E\u0441\u0432\u043E\u0435\u043D\u0430! \u041C\u0435\u0442\u0430\u0434\u0430\u043D\u043D\u044B\u0435 \u043E\u0447\u0438\u0449\u0435\u043D\u044B.",
    cardUpdated: "\u041A\u0430\u0440\u0442\u043E\u0447\u043A\u0430 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430: \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0435 {{date}}"
  }
};

// src/i18n/i18n.ts
var translations = {
  en: en_default,
  ru: ru_default
};
var I18n = class {
  constructor(locale) {
    this.locale = this.getObsidianLocale(locale);
    this.translations = translations[this.locale] || translations.en;
  }
  /**
   * Get Obsidian locale or fallback to provided locale or 'en'
   */
  getObsidianLocale(fallbackLocale) {
    const obsidianLocale = import_obsidian4.moment.locale();
    if (obsidianLocale.startsWith("ru")) {
      return "ru";
    }
    if (fallbackLocale && fallbackLocale in translations) {
      return fallbackLocale;
    }
    return "en";
  }
  /**
   * Get translation by key path (e.g., 'settings.cardSource.name')
   * Supports variable interpolation using {{variable}} syntax
   */
  t(keyPath, variables) {
    const keys = keyPath.split(".");
    let value = this.translations;
    for (const key of keys) {
      if (value && typeof value === "object" && key in value) {
        value = value[key];
      } else {
        console.warn(`Translation key not found: ${keyPath}`);
        return keyPath;
      }
    }
    if (typeof value !== "string") {
      console.warn(`Translation value is not a string: ${keyPath}`);
      return keyPath;
    }
    if (variables) {
      return this.interpolate(value, variables);
    }
    return value;
  }
  /**
   * Replace {{variable}} placeholders with actual values
   */
  interpolate(template, variables) {
    return template.replace(/\{\{(\w+)\}\}/g, (match, key) => {
      return key in variables ? String(variables[key]) : match;
    });
  }
  /**
   * Get current locale
   */
  getLocale() {
    return this.locale;
  }
  /**
   * Change locale
   */
  setLocale(locale) {
    if (locale in translations) {
      this.locale = locale;
      this.translations = translations[locale];
    } else {
      console.warn(`Locale not supported: ${locale}, falling back to 'en'`);
      this.locale = "en";
      this.translations = translations.en;
    }
  }
};

// src/main.ts
var MemMasterPlugin = class extends import_obsidian5.Plugin {
  async onload() {
    this.i18n = new I18n();
    this.events = new import_obsidian5.Events();
    this.settings = await loadSettings(this);
    this.observer = new MutationObserver((mutations) => {
      const activeLeaf = this.app.workspace.getActiveViewOfType(import_obsidian5.MarkdownView);
      if (activeLeaf) {
        syncFlashcardButtons(activeLeaf, this, {
          cleanupMisplaced: true,
          removeIfNoTag: true
        });
      }
    });
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", async (leaf) => {
        var _a;
        if (leaf && leaf.view instanceof import_obsidian5.MarkdownView) {
          this.observer.disconnect();
          await sleep(100);
          await syncFlashcardButtons(leaf.view, this, {
            cleanupMisplaced: true,
            removeIfNoTag: true
          });
          const previewEl = (_a = leaf.view.previewMode) == null ? void 0 : _a.containerEl;
          if (previewEl) {
            this.observer.observe(previewEl, {
              childList: true,
              subtree: true
            });
          }
        }
      })
    );
    this.registerEvent(
      this.app.workspace.on("resize", async () => {
        const activeLeaf = this.app.workspace.getActiveViewOfType(import_obsidian5.MarkdownView);
        if (activeLeaf) {
          await syncFlashcardButtons(activeLeaf, this, {
            delay: 100,
            cleanupMisplaced: false,
            removeIfNoTag: false
          });
        }
      })
    );
    this.registerEvent(
      this.app.workspace.on("layout-change", async () => {
        const activeLeaf = this.app.workspace.getActiveViewOfType(import_obsidian5.MarkdownView);
        if (activeLeaf) {
          await syncFlashcardButtons(activeLeaf, this, {
            delay: 100,
            cleanupMisplaced: false,
            removeIfNoTag: false
          });
        }
      })
    );
    this.addRibbonIcon("square-library", this.i18n.t("ribbonIcon.openReviewFlashcards"), () => {
      this.activateView();
    });
    this.registerView(
      ReviewListView.VIEW_TYPE,
      (leaf) => new ReviewListView(leaf, this)
    );
    this.addCommand({
      id: "open-review-list-view",
      name: this.i18n.t("commands.openReviewListView"),
      callback: () => {
        this.activateView();
      }
    });
    this.addCommand({
      id: "mark-card-easy",
      name: this.i18n.t("commands.markAsEasy"),
      checkCallback: (checking) => {
        const activeFile = this.app.workspace.getActiveFile();
        if (activeFile) {
          if (!checking) {
            this.markCardWithDifficulty(activeFile, "easy");
          }
          return true;
        }
        return false;
      }
    });
    this.addCommand({
      id: "mark-card-medium",
      name: this.i18n.t("commands.markAsMedium"),
      checkCallback: (checking) => {
        const activeFile = this.app.workspace.getActiveFile();
        if (activeFile) {
          if (!checking) {
            this.markCardWithDifficulty(activeFile, "medium");
          }
          return true;
        }
        return false;
      }
    });
    this.addCommand({
      id: "mark-card-hard",
      name: this.i18n.t("commands.markAsHard"),
      checkCallback: (checking) => {
        const activeFile = this.app.workspace.getActiveFile();
        if (activeFile) {
          if (!checking) {
            this.markCardWithDifficulty(activeFile, "hard");
          }
          return true;
        }
        return false;
      }
    });
    this.addCommand({
      id: "make-flashcard",
      name: this.i18n.t("commands.makeFlashcard"),
      checkCallback: (checking) => {
        const activeFile = this.app.workspace.getActiveFile();
        if (activeFile) {
          if (!checking) {
            this.makeDocumentFlashcard(activeFile);
          }
          return true;
        }
        return false;
      }
    });
    this.addSettingTab(new MemMasterPluginSettingTab(this.app, this));
  }
  onunload() {
    this.observer.disconnect();
    this.app.workspace.detachLeavesOfType(ReviewListView.VIEW_TYPE);
  }
  async activateView() {
    const leaf = this.app.workspace.getLeaf(true);
    await leaf.setViewState({
      type: ReviewListView.VIEW_TYPE,
      active: true
    });
    this.app.workspace.revealLeaf(leaf);
  }
  async loadSettings() {
    this.settings = await loadSettings(this);
  }
  async saveSettings() {
    await saveSettings(this, this.settings);
  }
  async markCardWithDifficulty(file, difficulty) {
    const isFlashcard = await isFileFlashcard(this, file);
    if (!isFlashcard) {
      new import_obsidian5.Notice(this.i18n.t("notices.notAFlashcard"));
      return;
    }
    await updateCardMetadata(this, file, difficulty);
  }
  async makeDocumentFlashcard(file) {
    await makeFlashcard(this, file);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NldHRpbmdzL3N0b3JhZ2UudHMiLCAic3JjL3NldHRpbmdzL3VpLnRzIiwgInNyYy9jb3JlL2V2ZW50cy50cyIsICJzcmMvcmV2aWV3LWxpc3QvdWkudHMiLCAic3JjL2NvcmUvdXRpbHMudHMiLCAic3JjL2NvcmUvZmluZGVyLnRzIiwgInNyYy9jb3JlL3NjaGVkdWxlci50cyIsICJzcmMvcmV2aWV3LWZsYXNoY2FyZC91aS50cyIsICJzcmMvaTE4bi9pMThuLnRzIiwgInNyYy9pMThuL2VuLmpzb24iLCAic3JjL2kxOG4vcnUuanNvbiJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgRXZlbnRzLCBNYXJrZG93blZpZXcsIFBsdWdpbiwgVEZpbGUsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IE1lbU1hc3RlclBsdWdpblNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncy9zdG9yYWdlJztcbmltcG9ydCB7IGxvYWRTZXR0aW5ncywgc2F2ZVNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncy9zdG9yYWdlJztcbmltcG9ydCBNZW1NYXN0ZXJQbHVnaW5TZXR0aW5nVGFiIGZyb20gJy4vc2V0dGluZ3MvdWknO1xuaW1wb3J0IFJldmlld0xpc3RWaWV3IGZyb20gJy4vcmV2aWV3LWxpc3QvdWknO1xuaW1wb3J0IHsgc3luY0ZsYXNoY2FyZEJ1dHRvbnMgfSBmcm9tICcuL3Jldmlldy1mbGFzaGNhcmQvdWknO1xuaW1wb3J0IHsgSTE4biB9IGZyb20gJy4vaTE4bi9pMThuJztcbmltcG9ydCB7IHVwZGF0ZUNhcmRNZXRhZGF0YSwgbWFrZUZsYXNoY2FyZCB9IGZyb20gJy4vY29yZS9zY2hlZHVsZXInO1xuaW1wb3J0IHsgaXNGaWxlRmxhc2hjYXJkIH0gZnJvbSAnLi9jb3JlL2ZpbmRlcic7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gJy4vY29yZS91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbU1hc3RlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBNZW1NYXN0ZXJQbHVnaW5TZXR0aW5ncztcblx0cHJpdmF0ZSBvYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlcjtcblx0cHVibGljIGV2ZW50czogRXZlbnRzO1xuXHRwdWJsaWMgaTE4bjogSTE4bjtcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0Ly8gSW5pdGlhbGl6ZSBpMThuXG5cdFx0dGhpcy5pMThuID0gbmV3IEkxOG4oKTtcblxuXHRcdC8vIENyZWF0ZSBldmVudHMgbWFuYWdlclxuXHRcdHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuXG5cdFx0Ly8gTG9hZCBzZXR0aW5nc1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBhd2FpdCBsb2FkU2V0dGluZ3ModGhpcyk7XG5cblx0XHQvLyBDcmVhdGUgTXV0YXRpb25PYnNlcnZlclxuXHRcdHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG5cdFx0XHRjb25zdCBhY3RpdmVMZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRcdGlmIChhY3RpdmVMZWFmKSB7XG5cdFx0XHRcdC8vIEZ1bGwgc3luYyB3aXRoIGNsZWFudXBcblx0XHRcdFx0c3luY0ZsYXNoY2FyZEJ1dHRvbnMoYWN0aXZlTGVhZiwgdGhpcywge1xuXHRcdFx0XHRcdGNsZWFudXBNaXNwbGFjZWQ6IHRydWUsXG5cdFx0XHRcdFx0cmVtb3ZlSWZOb1RhZzogdHJ1ZVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEhhbmRsZXIgZm9yIGFjdGl2ZSBsZWFmIGNoYW5nZVxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImFjdGl2ZS1sZWFmLWNoYW5nZVwiLCBhc3luYyAobGVhZikgPT4ge1xuXHRcdFx0XHRpZiAobGVhZiAmJiBsZWFmLnZpZXcgaW5zdGFuY2VvZiBNYXJrZG93blZpZXcpIHtcblx0XHRcdFx0XHR0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblx0XHRcdFx0XHRhd2FpdCBzbGVlcCgxMDApO1xuXG5cdFx0XHRcdFx0Ly8gRnVsbCBzeW5jIHdpdGggY2xlYW51cFxuXHRcdFx0XHRcdGF3YWl0IHN5bmNGbGFzaGNhcmRCdXR0b25zKGxlYWYudmlldywgdGhpcywge1xuXHRcdFx0XHRcdFx0Y2xlYW51cE1pc3BsYWNlZDogdHJ1ZSxcblx0XHRcdFx0XHRcdHJlbW92ZUlmTm9UYWc6IHRydWVcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGNvbnN0IHByZXZpZXdFbCA9IGxlYWYudmlldy5wcmV2aWV3TW9kZT8uY29udGFpbmVyRWw7XG5cdFx0XHRcdFx0aWYgKHByZXZpZXdFbCkge1xuXHRcdFx0XHRcdFx0dGhpcy5vYnNlcnZlci5vYnNlcnZlKHByZXZpZXdFbCwge1xuXHRcdFx0XHRcdFx0XHRjaGlsZExpc3Q6IHRydWUsXG5cdFx0XHRcdFx0XHRcdHN1YnRyZWU6IHRydWVcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0Ly8gQWRkIHJlc2l6ZSBoYW5kbGVyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwicmVzaXplXCIsIGFzeW5jICgpID0+IHtcblx0XHRcdFx0Y29uc3QgYWN0aXZlTGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG5cdFx0XHRcdGlmIChhY3RpdmVMZWFmKSB7XG5cdFx0XHRcdFx0Ly8gR2VudGxlIHN5bmMgLSBvbmx5IGFkZCBtaXNzaW5nIGJ1dHRvbnNcblx0XHRcdFx0XHRhd2FpdCBzeW5jRmxhc2hjYXJkQnV0dG9ucyhhY3RpdmVMZWFmLCB0aGlzLCB7XG5cdFx0XHRcdFx0XHRkZWxheTogMTAwLFxuXHRcdFx0XHRcdFx0Y2xlYW51cE1pc3BsYWNlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRyZW1vdmVJZk5vVGFnOiBmYWxzZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHQvLyBIYW5kbGVyIGZvciBsYXlvdXQgY2hhbmdlc1xuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImxheW91dC1jaGFuZ2VcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBhY3RpdmVMZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRcdFx0aWYgKGFjdGl2ZUxlYWYpIHtcblx0XHRcdFx0XHQvLyBHZW50bGUgc3luYyAtIG9ubHkgYWRkIG1pc3NpbmcgYnV0dG9uc1xuXHRcdFx0XHRcdGF3YWl0IHN5bmNGbGFzaGNhcmRCdXR0b25zKGFjdGl2ZUxlYWYsIHRoaXMsIHtcblx0XHRcdFx0XHRcdGRlbGF5OiAxMDAsXG5cdFx0XHRcdFx0XHRjbGVhbnVwTWlzcGxhY2VkOiBmYWxzZSxcblx0XHRcdFx0XHRcdHJlbW92ZUlmTm9UYWc6IGZhbHNlXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdC8vIFJlc3Qgb2YgdGhlIGNvZGUuLi5cblx0XHR0aGlzLmFkZFJpYmJvbkljb24oJ3NxdWFyZS1saWJyYXJ5JywgdGhpcy5pMThuLnQoJ3JpYmJvbkljb24ub3BlblJldmlld0ZsYXNoY2FyZHMnKSwgKCkgPT4ge1xuXHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoKTtcblx0XHR9KTtcblxuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KFxuXHRcdFx0UmV2aWV3TGlzdFZpZXcuVklFV19UWVBFLFxuXHRcdFx0KGxlYWYpID0+IG5ldyBSZXZpZXdMaXN0VmlldyhsZWFmLCB0aGlzKVxuXHRcdCk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLXJldmlldy1saXN0LXZpZXcnLFxuXHRcdFx0bmFtZTogdGhpcy5pMThuLnQoJ2NvbW1hbmRzLm9wZW5SZXZpZXdMaXN0VmlldycpLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHQvLyBBZGQgaG90a2V5IGNvbW1hbmRzIGZvciBtYXJraW5nIGNhcmRzXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnbWFyay1jYXJkLWVhc3knLFxuXHRcdFx0bmFtZTogdGhpcy5pMThuLnQoJ2NvbW1hbmRzLm1hcmtBc0Vhc3knKSxcblx0XHRcdGNoZWNrQ2FsbGJhY2s6IChjaGVja2luZzogYm9vbGVhbikgPT4ge1xuXHRcdFx0XHRjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdFx0aWYgKGFjdGl2ZUZpbGUpIHtcblx0XHRcdFx0XHRpZiAoIWNoZWNraW5nKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm1hcmtDYXJkV2l0aERpZmZpY3VsdHkoYWN0aXZlRmlsZSwgJ2Vhc3knKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ21hcmstY2FyZC1tZWRpdW0nLFxuXHRcdFx0bmFtZTogdGhpcy5pMThuLnQoJ2NvbW1hbmRzLm1hcmtBc01lZGl1bScpLFxuXHRcdFx0Y2hlY2tDYWxsYmFjazogKGNoZWNraW5nOiBib29sZWFuKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGFjdGl2ZUZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdFx0XHRpZiAoYWN0aXZlRmlsZSkge1xuXHRcdFx0XHRcdGlmICghY2hlY2tpbmcpIHtcblx0XHRcdFx0XHRcdHRoaXMubWFya0NhcmRXaXRoRGlmZmljdWx0eShhY3RpdmVGaWxlLCAnbWVkaXVtJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdtYXJrLWNhcmQtaGFyZCcsXG5cdFx0XHRuYW1lOiB0aGlzLmkxOG4udCgnY29tbWFuZHMubWFya0FzSGFyZCcpLFxuXHRcdFx0Y2hlY2tDYWxsYmFjazogKGNoZWNraW5nOiBib29sZWFuKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGFjdGl2ZUZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdFx0XHRpZiAoYWN0aXZlRmlsZSkge1xuXHRcdFx0XHRcdGlmICghY2hlY2tpbmcpIHtcblx0XHRcdFx0XHRcdHRoaXMubWFya0NhcmRXaXRoRGlmZmljdWx0eShhY3RpdmVGaWxlLCAnaGFyZCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnbWFrZS1mbGFzaGNhcmQnLFxuXHRcdFx0bmFtZTogdGhpcy5pMThuLnQoJ2NvbW1hbmRzLm1ha2VGbGFzaGNhcmQnKSxcblx0XHRcdGNoZWNrQ2FsbGJhY2s6IChjaGVja2luZzogYm9vbGVhbikgPT4ge1xuXHRcdFx0XHRjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdFx0aWYgKGFjdGl2ZUZpbGUpIHtcblx0XHRcdFx0XHRpZiAoIWNoZWNraW5nKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm1ha2VEb2N1bWVudEZsYXNoY2FyZChhY3RpdmVGaWxlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTWVtTWFzdGVyUGx1Z2luU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cdFx0Ly8gRGlzYWJsZSBvYnNlcnZlclxuXHRcdHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLmRldGFjaExlYXZlc09mVHlwZShSZXZpZXdMaXN0Vmlldy5WSUVXX1RZUEUpO1xuXHR9XG5cblxuXHRwcml2YXRlIGFzeW5jIGFjdGl2YXRlVmlldygpIHtcblx0XHRjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG5cblx0XHRhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG5cdFx0XHR0eXBlOiBSZXZpZXdMaXN0Vmlldy5WSUVXX1RZUEUsXG5cdFx0XHRhY3RpdmU6IHRydWUsXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gYXdhaXQgbG9hZFNldHRpbmdzKHRoaXMpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHNhdmVTZXR0aW5ncyh0aGlzLCB0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgbWFya0NhcmRXaXRoRGlmZmljdWx0eShmaWxlOiBURmlsZSwgZGlmZmljdWx0eTogJ2Vhc3knIHwgJ21lZGl1bScgfCAnaGFyZCcpIHtcblx0XHQvLyBDaGVjayBpZiB0aGUgZmlsZSBpcyBhIGZsYXNoY2FyZFxuXHRcdGNvbnN0IGlzRmxhc2hjYXJkID0gYXdhaXQgaXNGaWxlRmxhc2hjYXJkKHRoaXMsIGZpbGUpO1xuXHRcdFxuXHRcdGlmICghaXNGbGFzaGNhcmQpIHtcblx0XHRcdG5ldyBOb3RpY2UodGhpcy5pMThuLnQoJ25vdGljZXMubm90QUZsYXNoY2FyZCcpKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgY2FyZCBtZXRhZGF0YVxuXHRcdGF3YWl0IHVwZGF0ZUNhcmRNZXRhZGF0YSh0aGlzLCBmaWxlLCBkaWZmaWN1bHR5KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgbWFrZURvY3VtZW50Rmxhc2hjYXJkKGZpbGU6IFRGaWxlKSB7XG5cdFx0Ly8gVHJ5IHRvIG1ha2UgdGhlIGRvY3VtZW50IGEgZmxhc2hjYXJkXG5cdFx0YXdhaXQgbWFrZUZsYXNoY2FyZCh0aGlzLCBmaWxlKTtcblx0fVxufSIsICJpbXBvcnQge1BsdWdpbn0gZnJvbSAnb2JzaWRpYW4nO1xuXG5pbnRlcmZhY2UgTWVtTWFzdGVyUGx1Z2luU2V0dGluZ3Mge1xuXHRzb3VyY2VNb2RlOiAndGFnJyB8ICdmb2xkZXInO1xuXHR0YWdOYW1lOiBzdHJpbmc7XG5cdGZvbGRlck5hbWU6IHN0cmluZztcblx0aXNCbHVyRmxhc2hjYXJkVGV4dDogYm9vbGVhbjtcblx0b3BlbkluUHJldmlld01vZGU6IGJvb2xlYW47XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE1lbU1hc3RlclBsdWdpblNldHRpbmdzID0ge1xuXHRzb3VyY2VNb2RlOiAndGFnJyxcblx0dGFnTmFtZTogJ2ZsYXNoY2FyZCcsXG5cdGZvbGRlck5hbWU6ICdGbGFzaGNhcmRzJyxcblx0aXNCbHVyRmxhc2hjYXJkVGV4dDogdHJ1ZSxcblx0b3BlbkluUHJldmlld01vZGU6IHRydWUsXG59O1xuXG4vLyBFeHBvcnRlZCBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIHNldHRpbmdzXG5hc3luYyBmdW5jdGlvbiBsb2FkU2V0dGluZ3MocGx1Z2luOiBQbHVnaW4pOiBQcm9taXNlPE1lbU1hc3RlclBsdWdpblNldHRpbmdzPiB7XG5cdHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCBwbHVnaW4ubG9hZERhdGEoKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNhdmVTZXR0aW5ncyhwbHVnaW46IFBsdWdpbiwgc2V0dGluZ3M6IE1lbU1hc3RlclBsdWdpblNldHRpbmdzKTogUHJvbWlzZTx2b2lkPiB7XG5cdGF3YWl0IHBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG59XG5cbmV4cG9ydCB0eXBlIHsgTWVtTWFzdGVyUGx1Z2luU2V0dGluZ3MgfTtcbmV4cG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIGxvYWRTZXR0aW5ncywgc2F2ZVNldHRpbmdzIH07IiwgImltcG9ydCB7QXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgTWVtTWFzdGVyUGx1Z2luIGZyb20gJy4uL21haW4nO1xuaW1wb3J0IHsgUExVR0lOX0VWRU5UUyB9IGZyb20gJy4uL2NvcmUvZXZlbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVtTWFzdGVyUGx1Z2luU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IE1lbU1hc3RlclBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBNZW1NYXN0ZXJQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29uc3QgeyBpMThuIH0gPSB0aGlzLnBsdWdpbjtcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHQvLyBBZGQgaGVhZGluZyBmb3IgZmxhc2hjYXJkIHNvdXJjZSBzZXR0aW5nc1xuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogaTE4bi50KCdzZXR0aW5ncy5mbGFzaGNhcmRTb3VyY2VIZWFkaW5nJykgfSk7XG5cblx0XHQvLyBEcm9wZG93biBmb3IgbW9kZSBzZWxlY3Rpb25cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKGkxOG4udCgnc2V0dGluZ3MuY2FyZFNvdXJjZS5uYW1lJykpXG5cdFx0XHQuc2V0RGVzYyhpMThuLnQoJ3NldHRpbmdzLmNhcmRTb3VyY2UuZGVzYycpKVxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT5cblx0XHRcdFx0ZHJvcGRvd25cblx0XHRcdFx0XHQuYWRkT3B0aW9uKCd0YWcnLCBpMThuLnQoJ3NldHRpbmdzLnNvdXJjZU1vZGUudGFnJykpXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignZm9sZGVyJywgaTE4bi50KCdzZXR0aW5ncy5zb3VyY2VNb2RlLmZvbGRlcicpKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zb3VyY2VNb2RlKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWU6ICd0YWcnIHwgJ2ZvbGRlcicpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNvdXJjZU1vZGUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdGhlIHNldHRpbmdzIHBhbmVsXG5cblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmV2ZW50cy50cmlnZ2VyKFBMVUdJTl9FVkVOVFMuU0VUVElOR1NfVVBEQVRFRCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHQvLyBTaG93IHRhZyBmaWVsZCBPTkxZIHdoZW4gdGFnIG1vZGUgaXMgc2VsZWN0ZWRcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc291cmNlTW9kZSA9PT0gJ3RhZycpIHtcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHQuc2V0TmFtZShpMThuLnQoJ3NldHRpbmdzLnRhZ05hbWUubmFtZScpKVxuXHRcdFx0XHQuc2V0RGVzYyhpMThuLnQoJ3NldHRpbmdzLnRhZ05hbWUuZGVzYycpKVxuXHRcdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoaTE4bi50KCdzZXR0aW5ncy50YWdOYW1lLnBsYWNlaG9sZGVyJykpXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudGFnTmFtZSlcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudGFnTmFtZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5ldmVudHMudHJpZ2dlcihQTFVHSU5fRVZFTlRTLlNFVFRJTkdTX1VQREFURUQpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBTaG93IGZvbGRlciBmaWVsZCBPTkxZIHdoZW4gZm9sZGVyIG1vZGUgaXMgc2VsZWN0ZWRcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc291cmNlTW9kZSA9PT0gJ2ZvbGRlcicpIHtcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHQuc2V0TmFtZShpMThuLnQoJ3NldHRpbmdzLmZvbGRlck5hbWUubmFtZScpKVxuXHRcdFx0XHQuc2V0RGVzYyhpMThuLnQoJ3NldHRpbmdzLmZvbGRlck5hbWUuZGVzYycpKVxuXHRcdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoaTE4bi50KCdzZXR0aW5ncy5mb2xkZXJOYW1lLnBsYWNlaG9sZGVyJykpXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyTmFtZSlcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyTmFtZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5ldmVudHMudHJpZ2dlcihQTFVHSU5fRVZFTlRTLlNFVFRJTkdTX1VQREFURUQpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBBZGQgc2VwYXJhdG9yIGFmdGVyIHNvdXJjZSBmaWVsZHNcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaHInKTtcblxuXHRcdC8vIEFkZCBoZWFkaW5nIGZvciByZXZpZXcgbGlzdCBzZXR0aW5nc1xuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogaTE4bi50KCdzZXR0aW5ncy5yZXZpZXdMaXN0SGVhZGluZycpIH0pO1xuXG5cdFx0Ly8gQWRkIHRvZ2dsZSBmb3IgaGlkZGVuIGZsYXNoY2FyZHNcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKGkxOG4udCgnc2V0dGluZ3MuaXNCbHVyRmxhc2hjYXJkVGV4dC5uYW1lJykpXG5cdFx0XHQuc2V0RGVzYyhpMThuLnQoJ3NldHRpbmdzLmlzQmx1ckZsYXNoY2FyZFRleHQuZGVzYycpKVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNCbHVyRmxhc2hjYXJkVGV4dClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc0JsdXJGbGFzaGNhcmRUZXh0ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uZXZlbnRzLnRyaWdnZXIoUExVR0lOX0VWRU5UUy5TRVRUSU5HU19VUERBVEVEKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdC8vIEFkZCB0b2dnbGUgZm9yIG9wZW5pbmcgY2FyZHMgaW4gcHJldmlldyBtb2RlXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShpMThuLnQoJ3NldHRpbmdzLm9wZW5JblByZXZpZXdNb2RlLm5hbWUnKSlcblx0XHRcdC5zZXREZXNjKGkxOG4udCgnc2V0dGluZ3Mub3BlbkluUHJldmlld01vZGUuZGVzYycpKVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbkluUHJldmlld01vZGUpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbkluUHJldmlld01vZGUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5ldmVudHMudHJpZ2dlcihQTFVHSU5fRVZFTlRTLlNFVFRJTkdTX1VQREFURUQpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0Ly8gQWRkIHNlcGFyYXRvciBhZnRlciByZXZpZXcgbGlzdCBzZXR0aW5nc1xuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdocicpO1xuXG5cdFx0Ly8gQWRkIGhlYWRpbmcgZm9yIGhvdGtleXMgc2V0dGluZ3Ncblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IGkxOG4udCgnc2V0dGluZ3MuaG90a2V5c0hlYWRpbmcnKSB9KTtcblx0XHRcblx0XHQvLyBBZGQgZGVzY3JpcHRpb24gZm9yIGhvdGtleXNcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHsgXG5cdFx0XHR0ZXh0OiBpMThuLnQoJ3NldHRpbmdzLmhvdGtleXNEZXNjJyksXG5cdFx0XHRjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nXG5cdFx0fSk7XG5cdH1cbn0iLCAiLy8gRXZlbnQgbmFtZXMgdXNlZCBhY3Jvc3MgdGhlIHBsdWdpblxuZXhwb3J0IGNvbnN0IFBMVUdJTl9FVkVOVFMgPSB7XG4gICAgQ0FSRF9VUERBVEVEOiAnbWVtbWFzdGVyOmNhcmQtdXBkYXRlZCcsXG4gICAgQ0FSRF9DUkVBVEVEOiAnbWVtbWFzdGVyOmNhcmQtY3JlYXRlZCcsXG4gICAgQ0FSRF9ERUxFVEVEOiAnbWVtbWFzdGVyOmNhcmQtZGVsZXRlZCcsXG4gICAgU0VUVElOR1NfVVBEQVRFRDogJ21lbW1hc3RlcjpzZXR0aW5ncy11cGRhdGVkJyxcbn0gYXMgY29uc3Q7XG5cbi8vIFR5cGUgZm9yIGV2ZW50IG5hbWVzXG5leHBvcnQgdHlwZSBQbHVnaW5FdmVudE5hbWUgPSB0eXBlb2YgUExVR0lOX0VWRU5UU1trZXlvZiB0eXBlb2YgUExVR0lOX0VWRU5UU107IiwgImltcG9ydCB7SXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYsIE1hcmtkb3duVmlld30gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IE1lbU1hc3RlclBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB7IGdldEZsYXNoY2FyZHNGb3JSZXZpZXcgfSBmcm9tICcuLi9jb3JlL2ZpbmRlcic7XG5pbXBvcnQgeyBQTFVHSU5fRVZFTlRTIH0gZnJvbSAnLi4vY29yZS9ldmVudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXZpZXdMaXN0VmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcblx0c3RhdGljIFZJRVdfVFlQRSA9ICdyZXZpZXctbGlzdC12aWV3Jztcblx0cHJpdmF0ZSBwbHVnaW46IE1lbU1hc3RlclBsdWdpbjtcblx0cHJpdmF0ZSBzZWFyY2hRdWVyeTogc3RyaW5nID0gJyc7IC8vIEFkZCBzZWFyY2ggc3RhdGVcblx0cHJpdmF0ZSBzb3J0T3JkZXI6ICdvbGRlc3QtZmlyc3QnIHwgJ25ld2VzdC1maXJzdCcgPSAnb2xkZXN0LWZpcnN0JzsgLy8gQWRkIHNvcnQgb3JkZXIgc3RhdGVcblx0cHJpdmF0ZSBkb2N1bWVudENsaWNrSGFuZGxlcjogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7IC8vIEhhbmRsZXIgcmVmZXJlbmNlIGZvciBjbGVhbnVwXG5cblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGx1Z2luOiBNZW1NYXN0ZXJQbHVnaW4pIHtcblx0XHRzdXBlcihsZWFmKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGdldFZpZXdUeXBlKCkge1xuXHRcdHJldHVybiBSZXZpZXdMaXN0Vmlldy5WSUVXX1RZUEU7XG5cdH1cblxuXHRnZXREaXNwbGF5VGV4dCgpIHtcblx0XHRyZXR1cm4gdGhpcy5wbHVnaW4uaTE4bi50KCdyZXZpZXdMaXN0LnZpZXdUaXRsZScpO1xuXHR9XG5cblx0Ly8gTmV3IG1ldGhvZCB0byByZW5kZXIgY29udGVudFxuXHRhc3luYyByZW5kZXJDb250ZW50KCkge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGVudEVsO1xuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXG5cdFx0Ly8gQWRkIHNlYXJjaCBib3ggY29udGFpbmVyXG5cdFx0Y29uc3Qgc2VhcmNoQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7XG5cdFx0XHRjbHM6ICdtbS1zZWFyY2gtY29udGFpbmVyJyxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHNlYXJjaFdyYXBwZXIgPSBzZWFyY2hDb250YWluZXIuY3JlYXRlRGl2KHtcblx0XHRcdGNsczogJ21tLXNlYXJjaC13cmFwcGVyJyxcblx0XHR9KTtcblxuXHRcdC8vIEFkZCBzZWFyY2ggaWNvblxuXHRcdGNvbnN0IHNlYXJjaEljb24gPSBzZWFyY2hXcmFwcGVyLmNyZWF0ZUVsKCdzcGFuJywge1xuXHRcdFx0Y2xzOiAnbW0tc2VhcmNoLWljb24nLFxuXHRcdH0pO1xuXHRcdHNlYXJjaEljb24uaW5uZXJIVE1MID0gYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cblx0XHRcdDxjaXJjbGUgY3g9XCIxMVwiIGN5PVwiMTFcIiByPVwiOFwiPjwvY2lyY2xlPlxuXHRcdFx0PHBhdGggZD1cIm0yMSAyMS00LjM1LTQuMzVcIj48L3BhdGg+XG5cdFx0PC9zdmc+YDtcblxuXHRcdGNvbnN0IHNlYXJjaElucHV0ID0gc2VhcmNoV3JhcHBlci5jcmVhdGVFbCgnaW5wdXQnLCB7XG5cdFx0XHR0eXBlOiAndGV4dCcsXG5cdFx0XHRjbHM6ICdtbS1zZWFyY2gtaW5wdXQnLFxuXHRcdFx0cGxhY2Vob2xkZXI6IHRoaXMucGx1Z2luLmkxOG4udCgncmV2aWV3TGlzdC5zZWFyY2hQbGFjZWhvbGRlcicpLFxuXHRcdFx0dmFsdWU6IHRoaXMuc2VhcmNoUXVlcnksXG5cdFx0fSk7XG5cblx0XHQvLyBIYW5kbGUgc2VhcmNoIGlucHV0XG5cdFx0c2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xuXHRcdFx0dGhpcy5zZWFyY2hRdWVyeSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0dGhpcy5maWx0ZXJDYXJkcygpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gQWRkIGN1c3RvbSBzb3J0IGRyb3Bkb3duXG5cdFx0Y29uc3Qgc29ydFdyYXBwZXIgPSBzZWFyY2hDb250YWluZXIuY3JlYXRlRGl2KHtcblx0XHRcdGNsczogJ21tLXNvcnQtd3JhcHBlcicsXG5cdFx0fSk7XG5cblx0XHRjb25zdCBzb3J0TGFiZWwgPSBzb3J0V3JhcHBlci5jcmVhdGVFbCgnbGFiZWwnLCB7XG5cdFx0XHRjbHM6ICdtbS1zb3J0LWxhYmVsJyxcblx0XHRcdHRleHQ6IHRoaXMucGx1Z2luLmkxOG4udCgncmV2aWV3TGlzdC5zb3J0TGFiZWwnKSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGN1c3RvbURyb3Bkb3duID0gc29ydFdyYXBwZXIuY3JlYXRlRGl2KHtcblx0XHRcdGNsczogJ21tLWN1c3RvbS1kcm9wZG93bicsXG5cdFx0fSk7XG5cblx0XHQvLyBDdXJyZW50IHNlbGVjdGVkIG9wdGlvbiBkaXNwbGF5XG5cdFx0Y29uc3Qgc2VsZWN0ZWREaXNwbGF5ID0gY3VzdG9tRHJvcGRvd24uY3JlYXRlRGl2KHtcblx0XHRcdGNsczogJ21tLWRyb3Bkb3duLXNlbGVjdGVkJyxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHNlbGVjdGVkVGV4dCA9IHNlbGVjdGVkRGlzcGxheS5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdGNsczogJ21tLWRyb3Bkb3duLXNlbGVjdGVkLXRleHQnLFxuXHRcdFx0dGV4dDogdGhpcy5zb3J0T3JkZXIgPT09ICdvbGRlc3QtZmlyc3QnIFxuXHRcdFx0XHQ/IHRoaXMucGx1Z2luLmkxOG4udCgncmV2aWV3TGlzdC5zb3J0T2xkZXN0Rmlyc3QnKVxuXHRcdFx0XHQ6IHRoaXMucGx1Z2luLmkxOG4udCgncmV2aWV3TGlzdC5zb3J0TmV3ZXN0Rmlyc3QnKSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGRyb3Bkb3duQXJyb3cgPSBzZWxlY3RlZERpc3BsYXkuY3JlYXRlRWwoJ3NwYW4nLCB7XG5cdFx0XHRjbHM6ICdtbS1kcm9wZG93bi1hcnJvdycsXG5cdFx0fSk7XG5cdFx0ZHJvcGRvd25BcnJvdy5pbm5lckhUTUwgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwb2x5bGluZSBwb2ludHM9XCI2IDkgMTIgMTUgMTggOVwiPjwvcG9seWxpbmU+PC9zdmc+YDtcblxuXHRcdC8vIERyb3Bkb3duIG9wdGlvbnMgY29udGFpbmVyXG5cdFx0Y29uc3Qgb3B0aW9uc0NvbnRhaW5lciA9IGN1c3RvbURyb3Bkb3duLmNyZWF0ZURpdih7XG5cdFx0XHRjbHM6ICdtbS1kcm9wZG93bi1vcHRpb25zJyxcblx0XHR9KTtcblxuXHRcdC8vIER5bmFtaWMgYm9yZGVyIGVsZW1lbnQgZm9yIG9wZW4gc3RhdGVcblx0XHRjb25zdCBkcm9wZG93bkJvcmRlciA9IGN1c3RvbURyb3Bkb3duLmNyZWF0ZURpdih7XG5cdFx0XHRjbHM6ICdtbS1kcm9wZG93bi1ib3JkZXInLFxuXHRcdH0pO1xuXG5cdFx0Ly8gU29ydCBvcHRpb25zIGRhdGFcblx0XHRjb25zdCBzb3J0T3B0aW9ucyA9IFtcblx0XHRcdHsgdmFsdWU6ICdvbGRlc3QtZmlyc3QnLCB0ZXh0OiB0aGlzLnBsdWdpbi5pMThuLnQoJ3Jldmlld0xpc3Quc29ydE9sZGVzdEZpcnN0JykgfSxcblx0XHRcdHsgdmFsdWU6ICduZXdlc3QtZmlyc3QnLCB0ZXh0OiB0aGlzLnBsdWdpbi5pMThuLnQoJ3Jldmlld0xpc3Quc29ydE5ld2VzdEZpcnN0JykgfSxcblx0XHRdO1xuXG5cdFx0Ly8gQ3JlYXRlIG9wdGlvbiBlbGVtZW50c1xuXHRcdHNvcnRPcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcblx0XHRcdGNvbnN0IG9wdGlvbkVsID0gb3B0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoe1xuXHRcdFx0XHRjbHM6IGBtbS1kcm9wZG93bi1vcHRpb24gJHt0aGlzLnNvcnRPcmRlciA9PT0gb3B0aW9uLnZhbHVlID8gJ21tLWRyb3Bkb3duLW9wdGlvbi1zZWxlY3RlZCcgOiAnJ31gLFxuXHRcdFx0XHRhdHRyOiB7ICdkYXRhLXZhbHVlJzogb3B0aW9uLnZhbHVlIH0sXG5cdFx0XHR9KTtcblx0XHRcdG9wdGlvbkVsLnNldFRleHQob3B0aW9uLnRleHQpO1xuXG5cdFx0XHRvcHRpb25FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRoaXMuc29ydE9yZGVyID0gb3B0aW9uLnZhbHVlIGFzICdvbGRlc3QtZmlyc3QnIHwgJ25ld2VzdC1maXJzdCc7XG5cdFx0XHRcdHNlbGVjdGVkVGV4dC5zZXRUZXh0KG9wdGlvbi50ZXh0KTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFVwZGF0ZSBzZWxlY3RlZCBzdGF0ZVxuXHRcdFx0XHRvcHRpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tbS1kcm9wZG93bi1vcHRpb24nKS5mb3JFYWNoKG9wdCA9PiB7XG5cdFx0XHRcdFx0b3B0LnJlbW92ZUNsYXNzKCdtbS1kcm9wZG93bi1vcHRpb24tc2VsZWN0ZWQnKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdG9wdGlvbkVsLmFkZENsYXNzKCdtbS1kcm9wZG93bi1vcHRpb24tc2VsZWN0ZWQnKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIENsb3NlIGRyb3Bkb3duXG5cdFx0XHRcdGN1c3RvbURyb3Bkb3duLnJlbW92ZUNsYXNzKCdtbS1kcm9wZG93bi1vcGVuJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHR0aGlzLnNvcnRDYXJkcygpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBUb2dnbGUgZHJvcGRvd24gb24gY2xpY2tcblx0XHRzZWxlY3RlZERpc3BsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdGNvbnN0IGlzT3BlbmluZyA9ICFjdXN0b21Ecm9wZG93bi5oYXNDbGFzcygnbW0tZHJvcGRvd24tb3BlbicpO1xuXHRcdFx0Y3VzdG9tRHJvcGRvd24udG9nZ2xlQ2xhc3MoJ21tLWRyb3Bkb3duLW9wZW4nLCBpc09wZW5pbmcpO1xuXHRcdFx0XG5cdFx0XHRpZiAoaXNPcGVuaW5nKSB7XG5cdFx0XHRcdC8vIFNldCBvcHRpb25zIGhlaWdodCBmb3IgYm9yZGVyIGNhbGN1bGF0aW9uXG5cdFx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3Qgb3B0aW9uc0hlaWdodCA9IG9wdGlvbnNDb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0XHRcdGRyb3Bkb3duQm9yZGVyLnN0eWxlLnNldFByb3BlcnR5KCctLWRyb3Bkb3duLW9wdGlvbnMtaGVpZ2h0JywgYCR7b3B0aW9uc0hlaWdodH1weGApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIENsb3NlIGRyb3Bkb3duIHdoZW4gY2xpY2tpbmcgb3V0c2lkZVxuXHRcdC8vIFJlbW92ZSBwcmV2aW91cyBoYW5kbGVyIGlmIGV4aXN0cyB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXG5cdFx0aWYgKHRoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXIpIHtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5kb2N1bWVudENsaWNrSGFuZGxlcik7XG5cdFx0fVxuXHRcdHRoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXIgPSAoKSA9PiB7XG5cdFx0XHRjdXN0b21Ecm9wZG93bi5yZW1vdmVDbGFzcygnbW0tZHJvcGRvd24tb3BlbicpO1xuXHRcdH07XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRvY3VtZW50Q2xpY2tIYW5kbGVyKTtcblxuXHRcdC8vIEFkZCBtb3VzZSBtb3ZlIGhhbmRsZXIgZm9yIGludGVyYWN0aXZlIGJvcmRlciBlZmZlY3Qgb24gc2VsZWN0ZWQgKGNsb3NlZCBzdGF0ZSlcblx0XHRzZWxlY3RlZERpc3BsYXkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IHtcblx0XHRcdGlmICghY3VzdG9tRHJvcGRvd24uaGFzQ2xhc3MoJ21tLWRyb3Bkb3duLW9wZW4nKSkge1xuXHRcdFx0XHRjb25zdCByZWN0ID0gc2VsZWN0ZWREaXNwbGF5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRjb25zdCB4ID0gKChlLmNsaWVudFggLSByZWN0LmxlZnQpIC8gcmVjdC53aWR0aCkgKiAxMDA7XG5cdFx0XHRcdGNvbnN0IHkgPSAoKGUuY2xpZW50WSAtIHJlY3QudG9wKSAvIHJlY3QuaGVpZ2h0KSAqIDEwMDtcblx0XHRcdFx0c2VsZWN0ZWREaXNwbGF5LnN0eWxlLnNldFByb3BlcnR5KCctLW1vdXNlLXgnLCBgJHt4fSVgKTtcblx0XHRcdFx0c2VsZWN0ZWREaXNwbGF5LnN0eWxlLnNldFByb3BlcnR5KCctLW1vdXNlLXknLCBgJHt5fSVgKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEFkZCBtb3VzZSBtb3ZlIGhhbmRsZXIgZm9yIGVudGlyZSBkcm9wZG93biAob3BlbiBzdGF0ZSlcblx0XHRjdXN0b21Ecm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xuXHRcdFx0aWYgKGN1c3RvbURyb3Bkb3duLmhhc0NsYXNzKCdtbS1kcm9wZG93bi1vcGVuJykpIHtcblx0XHRcdFx0Y29uc3Qgc2VsZWN0ZWRSZWN0ID0gc2VsZWN0ZWREaXNwbGF5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRjb25zdCBvcHRpb25zUmVjdCA9IG9wdGlvbnNDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBDYWxjdWxhdGUgY29tYmluZWQgYm91bmRpbmcgYm94XG5cdFx0XHRcdGNvbnN0IHRvcCA9IHNlbGVjdGVkUmVjdC50b3A7XG5cdFx0XHRcdGNvbnN0IGxlZnQgPSBzZWxlY3RlZFJlY3QubGVmdDtcblx0XHRcdFx0Y29uc3QgcmlnaHQgPSBzZWxlY3RlZFJlY3QucmlnaHQ7XG5cdFx0XHRcdGNvbnN0IGJvdHRvbSA9IG9wdGlvbnNSZWN0LmJvdHRvbTtcblx0XHRcdFx0Y29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQ7XG5cdFx0XHRcdGNvbnN0IGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IHggPSAoKGUuY2xpZW50WCAtIGxlZnQpIC8gd2lkdGgpICogMTAwO1xuXHRcdFx0XHRjb25zdCB5ID0gKChlLmNsaWVudFkgLSB0b3ApIC8gaGVpZ2h0KSAqIDEwMDtcblx0XHRcdFx0ZHJvcGRvd25Cb3JkZXIuc3R5bGUuc2V0UHJvcGVydHkoJy0tbW91c2UteCcsIGAke3h9JWApO1xuXHRcdFx0XHRkcm9wZG93bkJvcmRlci5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1tb3VzZS15JywgYCR7eX0lYCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjb25zdCBncmlkID0gY29udGFpbmVyLmNyZWF0ZURpdih7XG5cdFx0XHRjbHM6ICdtbS1jYXJkLWdyaWQnLFxuXHRcdH0pO1xuXG5cdFx0Ly8gVXNlIHRoZSBuZXcgY29yZSBmdW5jdGlvbiB0byBnZXQgZmxhc2hjYXJkc1xuXHRcdGNvbnN0IHNvcnRlZEZsYXNoY2FyZHMgPSBhd2FpdCBnZXRGbGFzaGNhcmRzRm9yUmV2aWV3KHRoaXMucGx1Z2luKTtcblxuXHRcdC8vIElmIHRoZXJlIGFyZSBubyBjYXJkcyBmb3IgcmV2aWV3LCBzaG93IGEgbWVzc2FnZVxuXHRcdGlmIChzb3J0ZWRGbGFzaGNhcmRzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Y29uc3Qgbm9GbGFzaGNhcmRzTWVzc2FnZSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdtbS1uby1mbGFzaGNhcmRzJyB9KTtcblx0XHRcdG5vRmxhc2hjYXJkc01lc3NhZ2Uuc2V0VGV4dCh0aGlzLnBsdWdpbi5pMThuLnQoJ3Jldmlld0xpc3Qubm9GbGFzaGNhcmRzJykpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEFkZCBcIm5vIHJlc3VsdHNcIiBtZXNzYWdlIChpbml0aWFsbHkgaGlkZGVuKVxuXHRcdGNvbnN0IG5vUmVzdWx0c01lc3NhZ2UgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgXG5cdFx0XHRjbHM6ICdtbS1uby1zZWFyY2gtcmVzdWx0cycsXG5cdFx0XHRhdHRyOiB7IHN0eWxlOiAnZGlzcGxheTogbm9uZTsnIH1cblx0XHR9KTtcblx0XHRub1Jlc3VsdHNNZXNzYWdlLnNldFRleHQodGhpcy5wbHVnaW4uaTE4bi50KCdyZXZpZXdMaXN0Lm5vU2VhcmNoUmVzdWx0cycpKTtcblxuXHRcdC8vIENyZWF0ZSBjYXJkc1xuXHRcdGZvciAoY29uc3QgbWV0YWRhdGEgb2Ygc29ydGVkRmxhc2hjYXJkcykge1xuXHRcdFx0Y29uc3QgY2FyZCA9IGdyaWQuY3JlYXRlRGl2KHsgY2xzOiAnbW0tY2FyZCcgfSk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IGJsdXJDbGFzcyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmlzQmx1ckZsYXNoY2FyZFRleHQgPyAnbW0tYmx1ci1lbmFibGVkJyA6ICdtbS1ibHVyLWRpc2FibGVkJztcblx0XHRcdGNhcmQuY2xhc3NMaXN0LmFkZChibHVyQ2xhc3MpO1xuXG5cdFx0XHRjYXJkLnNldEF0dHJpYnV0ZSgnZGF0YS1maWxlbmFtZScsIG1ldGFkYXRhLmZpbGUuYmFzZW5hbWUudG9Mb3dlckNhc2UoKSk7XG5cdFx0XHRjYXJkLnNldEF0dHJpYnV0ZSgnZGF0YS1jb250ZW50JywgbWV0YWRhdGEuY29udGVudC50b0xvd2VyQ2FzZSgpKTtcblx0XHRcdFxuXHRcdFx0Ly8gQ2FsY3VsYXRlIGFuZCBzdG9yZSBkYXlzIG92ZXJkdWUgZm9yIHNvcnRpbmdcblx0XHRcdGxldCBkYXlzT3ZlcmR1ZSA9IDA7XG5cdFx0XHRpZiAobWV0YWRhdGEubmV4dFJldmlldykge1xuXHRcdFx0XHRjb25zdCByZXZpZXdEYXRlID0gbmV3IERhdGUobWV0YWRhdGEubmV4dFJldmlldyk7XG5cdFx0XHRcdGRheXNPdmVyZHVlID0gTWF0aC5mbG9vcigobmV3IERhdGUoKS5nZXRUaW1lKCkgLSByZXZpZXdEYXRlLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuXHRcdFx0fVxuXHRcdFx0Y2FyZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3ZlcmR1ZS1kYXlzJywgZGF5c092ZXJkdWUudG9TdHJpbmcoKSk7XG5cblx0XHRcdC8vIEFkZCBoZWFkZXIgLSBmaWxlIG5hbWVcblx0XHRcdGNvbnN0IGhlYWRlckNvbnRhaW5lciA9IGNhcmQuY3JlYXRlRGl2KHsgY2xzOiAnbW0tY2FyZC1oZWFkZXInIH0pO1xuXHRcdFx0aGVhZGVyQ29udGFpbmVyLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogbWV0YWRhdGEuZmlsZS5iYXNlbmFtZSB9KTtcblxuXHRcdFx0Ly8gQWRkIGRhdGUgb2YgbmV4dCByZXZpZXdcblx0XHRcdGlmIChtZXRhZGF0YS5uZXh0UmV2aWV3KSB7XG5cdFx0XHRcdGhlYWRlckNvbnRhaW5lci5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdFx0XHRjbHM6ICdtbS1yZXZpZXctaW5mbycsXG5cdFx0XHRcdFx0dGV4dDogZGF5c092ZXJkdWUgPiAwIFxuXHRcdFx0XHRcdFx0PyB0aGlzLnBsdWdpbi5pMThuLnQoJ3Jldmlld0xpc3Qub3ZlcmR1ZUJ5RGF5cycsIHsgZGF5czogZGF5c092ZXJkdWUudG9TdHJpbmcoKSB9KVxuXHRcdFx0XHRcdFx0OiB0aGlzLnBsdWdpbi5pMThuLnQoJ3Jldmlld0xpc3QuZHVlVG9kYXknKVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRXh0cmFjdCBsaW5lcyBmb3IgdGFncyBhbmQgY29udGVudFxuXHRcdFx0Y29uc3QgbGluZXMgPSBtZXRhZGF0YS5jb250ZW50LnNwbGl0KCdcXG4nKTtcblx0XHRcdC8vIEZpbHRlciBvbmx5IGxpbmVzIHdpdGggdGFncywgZXhjbHVkaW5nIG1hcmtkb3duIGhlYWRlcnNcblx0XHRcdGNvbnN0IHRhZ3MgPSBsaW5lcy5maWx0ZXIoKGxpbmUpID0+IHtcblx0XHRcdFx0Y29uc3QgdHJpbW1lZExpbmUgPSBsaW5lLnRyaW0oKTtcblx0XHRcdFx0Ly8gRXhjbHVkZSBsaW5lcyB0aGF0IHN0YXJ0IHdpdGggbWFya2Rvd24gaGVhZGVycyAoIyAsICMjICwgIyMjIGV0Yy4pXG5cdFx0XHRcdGlmICgvXiMrXFxzLy50ZXN0KHRyaW1tZWRMaW5lKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbGluZS5pbmNsdWRlcygnIycpO1xuXHRcdFx0fSk7XG5cdFx0XHRjb25zdCB0YWdzSFRNTCA9IHRhZ3Ncblx0XHRcdFx0Lm1hcCgobGluZSkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBsaW5lLnNwbGl0KC9cXHMrLylcblx0XHRcdFx0XHRcdC5maWx0ZXIod29yZCA9PiB7XG5cdFx0XHRcdFx0XHRcdC8vIE9ubHkgd29yZHMgdGhhdCBzdGFydCB3aXRoICMgYW5kIGhhdmUgYXQgbGVhc3Qgb25lIG1vcmUgY2hhcmFjdGVyIHRoYXQgaXMgbm90ICNcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHdvcmQuc3RhcnRzV2l0aCgnIycpICYmIHdvcmQubGVuZ3RoID4gMSAmJiB3b3JkWzFdICE9PSAnIyc7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0Lm1hcCh0YWcgPT4gYDxwPiR7dGFnfTwvcD5gKVxuXHRcdFx0XHRcdFx0LmpvaW4oJyAnKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmpvaW4oJyAnKTtcblxuXHRcdFx0Ly8gU3RvcmUgdGFncyBhcyBkYXRhIGF0dHJpYnV0ZSBmb3Igc2VhcmNoXG5cdFx0XHRjb25zdCBleHRyYWN0ZWRUYWdzID0gdGFnc1xuXHRcdFx0XHQuZmxhdE1hcCgobGluZSkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBsaW5lLnNwbGl0KC9cXHMrLylcblx0XHRcdFx0XHRcdC5maWx0ZXIod29yZCA9PiB3b3JkLnN0YXJ0c1dpdGgoJyMnKSAmJiB3b3JkLmxlbmd0aCA+IDEgJiYgd29yZFsxXSAhPT0gJyMnKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmpvaW4oJyAnKVxuXHRcdFx0XHQudG9Mb3dlckNhc2UoKTtcblx0XHRcdGNhcmQuc2V0QXR0cmlidXRlKCdkYXRhLXRhZ3MnLCBleHRyYWN0ZWRUYWdzKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIHRhZ3MgYW5kIFlBTUwgZnJvbSBjb250ZW50XG5cdFx0XHRjb25zdCBjb250ZW50V2l0aG91dFRhZ3MgPSBtZXRhZGF0YS5jb250ZW50XG5cdFx0XHQucmVwbGFjZSgvXi0tLVtcXHNcXFNdKj8tLS0vLCAnJykgLy8gUmVtb3ZlIFlBTUwgZnJvbnRtYXR0ZXJcblx0XHRcdC5yZXBsYWNlKC8jW15cXHMjXSsvZywgJycpIC8vIFJlbW92ZSBhbGwgdGFncyAoIyBmb2xsb3dlZCBieSBub24td2hpdGVzcGFjZSwgbm9uLSMgY2hhcmFjdGVycylcblx0XHRcdC5yZXBsYWNlKC9cXG4rL2csICcgJykgLy8gUmVwbGFjZSBtdWx0aXBsZSBuZXdsaW5lcyB3aXRoIHNwYWNlXG5cdFx0XHQudHJpbSgpO1xuXG5cdFx0XHRjb25zdCB0cnVuY2F0ZWRDb250ZW50ID0gY29udGVudFdpdGhvdXRUYWdzLnNsaWNlKDAsIDEyOCk7XG5cdFx0XHRjb25zdCBmdWxsSFRNTCA9IGA8ZGl2IGNsYXNzPVwibW0tY2FyZC10YWdzXCI+JHt0YWdzSFRNTH08L2Rpdj48cCBjbGFzcz1cIm1tLWNhcmQtdGV4dFwiPiR7dHJ1bmNhdGVkQ29udGVudH08L3A+YDtcblxuXHRcdFx0Y29uc3QgY29udGVudEVsID0gY2FyZC5jcmVhdGVEaXYoKTtcblx0XHRcdGNvbnRlbnRFbC5jbGFzc05hbWUgPSAnbW0tY2FyZC1jb250ZW50Jztcblx0XHRcdGNvbnRlbnRFbC5pbm5lckhUTUwgPSBmdWxsSFRNTDtcblxuXHRcdFx0Y29uc3QgYnV0dG9uID0gY2FyZC5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdFx0Y2xzOiAnbW0tb3Blbi1jYXJkLWJ1dHRvbicsXG5cdFx0XHR9KTtcblxuXHRcdFx0YnV0dG9uLmlubmVySFRNTCA9IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItZXllXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xIDEyczQtOCAxMS04IDExIDggMTEgOC00IDgtMTEgOC0xMS04LTExLTh6XCI+PC9wYXRoPlxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiM1wiPjwvY2lyY2xlPlxuICAgICAgICAgICAgPC9zdmc+YDtcblxuXHRcdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLm9wZW5MaW5rVGV4dChtZXRhZGF0YS5maWxlLnBhdGgsICcvJywgZmFsc2UpO1xuXHRcdFx0XHQvLyBXYWl0IGZvciBmaWxlIHRvIG9wZW4gYW5kIHN3aXRjaCB0byBwcmV2aWV3IG1vZGUgaWYgc2V0dGluZyBpcyBlbmFibGVkXG5cdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuSW5QcmV2aWV3TW9kZSkge1xuXHRcdFx0XHRcdHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG5cdFx0XHRcdFx0XHRpZiAodmlldyAmJiB2aWV3LmZpbGU/LnBhdGggPT09IG1ldGFkYXRhLmZpbGUucGF0aCkge1xuXHRcdFx0XHRcdFx0XHQvLyBGaW5kIHRoZSBsZWFmIGNvbnRhaW5pbmcgdGhpcyB2aWV3XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGxlYXZlcyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoJ21hcmtkb3duJyk7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGxlYWYgPSBsZWF2ZXMuZmluZChsID0+IGwudmlldyA9PT0gdmlldyk7XG5cdFx0XHRcdFx0XHRcdGlmIChsZWFmKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgY3VycmVudFN0YXRlID0gbGVhZi5nZXRWaWV3U3RhdGUoKTtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnbWFya2Rvd24nLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhdGU6IHsgLi4uY3VycmVudFN0YXRlLnN0YXRlLCBtb2RlOiAncHJldmlldycgfVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgMTAwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEFkZCBtb3VzZSBtb3ZlIGhhbmRsZXIgZm9yIGludGVyYWN0aXZlIGJvcmRlciBlZmZlY3Rcblx0XHRcdGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IHtcblx0XHRcdFx0Y29uc3QgcmVjdCA9IGNhcmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdGNvbnN0IHggPSAoKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoKSAqIDEwMDtcblx0XHRcdFx0Y29uc3QgeSA9ICgoZS5jbGllbnRZIC0gcmVjdC50b3ApIC8gcmVjdC5oZWlnaHQpICogMTAwO1xuXHRcdFx0XHRjYXJkLnN0eWxlLnNldFByb3BlcnR5KCctLW1vdXNlLXgnLCBgJHt4fSVgKTtcblx0XHRcdFx0Y2FyZC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1tb3VzZS15JywgYCR7eX0lYCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBpbml0aWFsIGZpbHRlciBpZiB0aGVyZSdzIGEgc2VhcmNoIHF1ZXJ5XG5cdFx0aWYgKHRoaXMuc2VhcmNoUXVlcnkpIHtcblx0XHRcdHRoaXMuZmlsdGVyQ2FyZHMoKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBpbml0aWFsIHNvcnQgYmFzZWQgb24gY3VycmVudCBzb3J0IG9yZGVyXG5cdFx0dGhpcy5zb3J0Q2FyZHMoKTtcblx0fVxuXG5cdC8vIE5ldyBtZXRob2QgdG8gZmlsdGVyIGNhcmRzIGJhc2VkIG9uIHNlYXJjaCBxdWVyeVxuXHRwcml2YXRlIGZpbHRlckNhcmRzKCkge1xuXHRcdGNvbnN0IGNhcmRzID0gdGhpcy5jb250ZW50RWwucXVlcnlTZWxlY3RvckFsbCgnLm1tLWNhcmQnKTtcblx0XHRjb25zdCBub1Jlc3VsdHNNZXNzYWdlID0gdGhpcy5jb250ZW50RWwucXVlcnlTZWxlY3RvcignLm1tLW5vLXNlYXJjaC1yZXN1bHRzJykgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0Y29uc3QgcXVlcnkgPSB0aGlzLnNlYXJjaFF1ZXJ5O1xuXHRcdGxldCBoYXNWaXNpYmxlQ2FyZHMgPSBmYWxzZTtcblxuXHRcdGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcblx0XHRcdGNvbnN0IGZpbGVuYW1lID0gY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmlsZW5hbWUnKSB8fCAnJztcblx0XHRcdGNvbnN0IGNvbnRlbnQgPSBjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS1jb250ZW50JykgfHwgJyc7XG5cdFx0XHRjb25zdCB0YWdzID0gY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFncycpIHx8ICcnO1xuXG5cdFx0XHRjb25zdCBtYXRjaGVzID0gZmlsZW5hbWUuaW5jbHVkZXMocXVlcnkpIHx8IFxuXHRcdFx0ICAgICAgICAgICAgICAgY29udGVudC5pbmNsdWRlcyhxdWVyeSkgfHwgXG5cdFx0XHQgICAgICAgICAgICAgICB0YWdzLmluY2x1ZGVzKHF1ZXJ5KTtcblxuXHRcdFx0aWYgKG1hdGNoZXMpIHtcblx0XHRcdFx0KGNhcmQgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnJztcblx0XHRcdFx0aGFzVmlzaWJsZUNhcmRzID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdChjYXJkIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gU2hvdy9oaWRlIFwibm8gcmVzdWx0c1wiIG1lc3NhZ2Vcblx0XHRpZiAobm9SZXN1bHRzTWVzc2FnZSkge1xuXHRcdFx0aWYgKCFoYXNWaXNpYmxlQ2FyZHMgJiYgcXVlcnkubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRub1Jlc3VsdHNNZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bm9SZXN1bHRzTWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIE1ldGhvZCB0byBzb3J0IGNhcmRzIGJhc2VkIG9uIHNvcnQgb3JkZXJcblx0cHJpdmF0ZSBzb3J0Q2FyZHMoKSB7XG5cdFx0Y29uc3QgZ3JpZCA9IHRoaXMuY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJy5tbS1jYXJkLWdyaWQnKTtcblx0XHRpZiAoIWdyaWQpIHJldHVybjtcblxuXHRcdGNvbnN0IGNhcmRzID0gQXJyYXkuZnJvbShncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tbS1jYXJkJykpO1xuXHRcdFxuXHRcdGNhcmRzLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdGNvbnN0IGRheXNBID0gcGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3ZlcmR1ZS1kYXlzJykgfHwgJzAnKTtcblx0XHRcdGNvbnN0IGRheXNCID0gcGFyc2VJbnQoYi5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3ZlcmR1ZS1kYXlzJykgfHwgJzAnKTtcblxuXHRcdFx0aWYgKHRoaXMuc29ydE9yZGVyID09PSAnb2xkZXN0LWZpcnN0Jykge1xuXHRcdFx0XHQvLyBNb3N0IG92ZXJkdWUgZmlyc3QgKGhpZ2hlciBkYXlzID0gZWFybGllcilcblx0XHRcdFx0cmV0dXJuIGRheXNCIC0gZGF5c0E7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBMZWFzdCBvdmVyZHVlIGZpcnN0IChsb3dlciBkYXlzID0gZWFybGllcilcblx0XHRcdFx0cmV0dXJuIGRheXNBIC0gZGF5c0I7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBSZS1hcHBlbmQgY2FyZHMgaW4gc29ydGVkIG9yZGVyXG5cdFx0Y2FyZHMuZm9yRWFjaChjYXJkID0+IGdyaWQuYXBwZW5kQ2hpbGQoY2FyZCkpO1xuXHR9XG5cblx0YXN5bmMgb25PcGVuKCkge1xuXHRcdHRoaXMuY29udGFpbmVyRWwuYWRkQ2xhc3MoJ21tLXZpZXcnKTtcblx0XHRhd2FpdCB0aGlzLnJlbmRlckNvbnRlbnQoKTtcblxuXHRcdC8vIEFkZCBldmVudCBoYW5kbGVyIGZvciBhY3RpdmF0aW9uIG9mIHRoZSB0YWJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2FjdGl2ZS1sZWFmLWNoYW5nZScsIChsZWFmKSA9PiB7XG5cdFx0XHRcdGlmIChsZWFmPy52aWV3ID09PSB0aGlzKSB7XG5cdFx0XHRcdFx0dGhpcy5yZW5kZXJDb250ZW50KCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmV2ZW50cy5vbihQTFVHSU5fRVZFTlRTLkNBUkRfVVBEQVRFRCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ29udGVudCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcblx0XHRcdHRoaXMucGx1Z2luLmV2ZW50cy5vbihQTFVHSU5fRVZFTlRTLlNFVFRJTkdTX1VQREFURUQsICgpID0+IHtcblx0XHRcdFx0dGhpcy5yZW5kZXJDb250ZW50KCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBvbkNsb3NlKCkge1xuXHRcdC8vIFJlbW92ZSBkb2N1bWVudCBjbGljayBoYW5kbGVyIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtcblx0XHRpZiAodGhpcy5kb2N1bWVudENsaWNrSGFuZGxlcikge1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRvY3VtZW50Q2xpY2tIYW5kbGVyKTtcblx0XHRcdHRoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXIgPSBudWxsO1xuXHRcdH1cblx0XHR0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdH1cbn0iLCAiLyoqXHJcbiAqIERlbGF5IGV4ZWN1dGlvbiBmb3Igc3BlY2lmaWVkIG1pbGxpc2Vjb25kc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNsZWVwKG1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGZpbGUgcGF0aCBjb250YWlucyB0aGUgc3BlY2lmaWVkIGZvbGRlciBwYXRoXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNGaWxlSW5Gb2xkZXIoZmlsZVBhdGg6IHN0cmluZywgZm9sZGVyUGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBmb2xkZXJTZWdtZW50cyA9IGZvbGRlclBhdGguc3BsaXQoJy8nKTtcclxuICAgIGNvbnN0IGZpbGVQYXRoU2VnbWVudHMgPSBmaWxlUGF0aC5zcGxpdCgnLycpO1xyXG4gICAgXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBmaWxlUGF0aFNlZ21lbnRzLmxlbmd0aCAtIGZvbGRlclNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IG1hdGNoID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZvbGRlclNlZ21lbnRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChmaWxlUGF0aFNlZ21lbnRzW2kgKyBqXSAhPT0gZm9sZGVyU2VnbWVudHNbal0pIHtcclxuICAgICAgICAgICAgICAgIG1hdGNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn0iLCAiaW1wb3J0IHsgVEZpbGUgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgTWVtTWFzdGVyUGx1Z2luIGZyb20gJy4uL21haW4nO1xuaW1wb3J0IHsgaXNGaWxlSW5Gb2xkZXIgfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBDYXJkTWV0YWRhdGEge1xuICAgIG5leHRSZXZpZXc6IHN0cmluZztcbiAgICBzdGFnZTogc3RyaW5nO1xuICAgIGZpbGU6IFRGaWxlO1xuICAgIGNvbnRlbnQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBjb250ZW50IGNvbnRhaW5zIGdpdmVuIHRhZyBlaXRoZXIgYXMgaW5saW5lICN0YWcgb3IgaW4gWUFNTCBmcm9udG1hdHRlciB0YWdzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVGFnSW5Db250ZW50KGNvbnRlbnQ6IHN0cmluZywgcmF3VGFnTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgdGFnTmFtZSA9IHJhd1RhZ05hbWUucmVwbGFjZSgvXiMvLCAnJyk7XG5cbiAgICAvLyBJbmxpbmUgI3RhZyBkZXRlY3Rpb25cbiAgICBjb25zdCBpbmxpbmVSZWdleCA9IG5ldyBSZWdFeHAoYChefFxcXFxzKSMke3RhZ05hbWV9KFxcXFxifCQpYCwgJ2knKTtcbiAgICBjb25zdCBoYXNJbmxpbmVUYWcgPSBpbmxpbmVSZWdleC50ZXN0KGNvbnRlbnQpO1xuXG4gICAgLy8gWUFNTCB0YWdzIGRldGVjdGlvblxuICAgIGxldCBoYXNZYW1sVGFnID0gZmFsc2U7XG4gICAgY29uc3QgZm1NYXRjaCA9IGNvbnRlbnQubWF0Y2goL14tLS1cXG4oW1xcc1xcU10qPylcXG4tLS0vKTtcbiAgICBpZiAoZm1NYXRjaCkge1xuICAgICAgICBjb25zdCBmbSA9IGZtTWF0Y2hbMV07XG4gICAgICAgIGNvbnN0IHRhZ3NMaW5lID0gZm0uc3BsaXQoJ1xcbicpLmZpbmQobCA9PiBsLnRyaW0oKS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ3RhZ3M6JykpO1xuICAgICAgICBpZiAodGFnc0xpbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZ3NQYXJ0ID0gdGFnc0xpbmUuc3BsaXQoJzonKS5zbGljZSgxKS5qb2luKCc6JykudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgeWFtbFJlZ2V4ID0gbmV3IFJlZ0V4cChgXFxcXGIke3RhZ05hbWV9XFxcXGJgLCAnaScpO1xuICAgICAgICAgICAgaGFzWWFtbFRhZyA9IHlhbWxSZWdleC50ZXN0KHRhZ3NQYXJ0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBoYXNJbmxpbmVUYWcgfHwgaGFzWWFtbFRhZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzRmlsZUZsYXNoY2FyZChwbHVnaW46IE1lbU1hc3RlclBsdWdpbiwgZmlsZTogVEZpbGUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAocGx1Z2luLnNldHRpbmdzLnNvdXJjZU1vZGUgPT09ICdmb2xkZXInKSB7XG4gICAgICAgIGNvbnN0IHJhdyA9IHBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lID8/ICcnO1xuICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gcmF3LnRyaW0oKS5yZXBsYWNlKC9eXFwvK3xcXC8rJC9nLCAnJyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWZvbGRlclBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpc0ZpbGVJbkZvbGRlcihmaWxlLnBhdGgsIGZvbGRlclBhdGgpO1xuICAgIH1cblxuICAgIC8vIERlZmF1bHQvdGFnIG1vZGVcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuICAgIHJldHVybiBoYXNUYWdJbkNvbnRlbnQoY29udGVudCwgcGx1Z2luLnNldHRpbmdzLnRhZ05hbWUpO1xufVxuXG4vLyBFeHRyYWN0IG1ldGFkYXRhIGZyb20gZmlsZSBjb250ZW50XG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdE1ldGFkYXRhKGNvbnRlbnQ6IHN0cmluZywgZmlsZTogVEZpbGUpOiBDYXJkTWV0YWRhdGEgfCBudWxsIHtcbiAgICBjb25zdCBmcm9udG1hdHRlck1hdGNoID0gY29udGVudC5tYXRjaCgvXi0tLVxcbihbXFxzXFxTXSo/KVxcbi0tLS8pO1xuXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gZnJvbnRtYXR0ZXIgb3IgaXQgZG9lc24ndCBjb250YWluIG5leHRSZXZpZXcgYW5kIHN0YWdlLCByZXR1cm4gbnVsbFxuICAgIGlmICghZnJvbnRtYXR0ZXJNYXRjaCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBmcm9udG1hdHRlciA9IGZyb250bWF0dGVyTWF0Y2hbMV07XG4gICAgbGV0IGhhc05leHRSZXZpZXcgPSBmYWxzZTtcbiAgICBsZXQgaGFzU3RhZ2UgPSBmYWxzZTtcblxuICAgIGNvbnN0IG1ldGFkYXRhOiBDYXJkTWV0YWRhdGEgPSB7XG4gICAgICAgIG5leHRSZXZpZXc6ICcnLFxuICAgICAgICBzdGFnZTogJzAnLFxuICAgICAgICBmaWxlOiBmaWxlLFxuICAgICAgICBjb250ZW50OiBjb250ZW50XG4gICAgfTtcblxuICAgIGZyb250bWF0dGVyLnNwbGl0KFwiXFxuXCIpLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgICAgY29uc3QgY29sb25JbmRleCA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgICAgICBpZiAoY29sb25JbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGtleSA9IGxpbmUuc3Vic3RyaW5nKDAsIGNvbG9uSW5kZXgpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBsaW5lLnN1YnN0cmluZyhjb2xvbkluZGV4ICsgMSkudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGtleSA9PT0gXCJtZW1tYXN0ZXItbmV4dC1yZXZpZXdcIikge1xuICAgICAgICAgICAgbWV0YWRhdGEubmV4dFJldmlldyA9IHZhbHVlO1xuICAgICAgICAgICAgaGFzTmV4dFJldmlldyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleSA9PT0gXCJtZW1tYXN0ZXItc3RhZ2VcIikge1xuICAgICAgICAgICAgbWV0YWRhdGEuc3RhZ2UgPSB2YWx1ZTtcbiAgICAgICAgICAgIGhhc1N0YWdlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUmV0dXJuIG51bGwgaWYgdGhlcmUgYXJlIG5vIGJvdGggcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCFoYXNOZXh0UmV2aWV3IHx8ICFoYXNTdGFnZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWV0YWRhdGE7XG59XG5cbi8vIENoZWNrIGlmIGNhcmQgaXMgZHVlIGZvciByZXZpZXdcbmV4cG9ydCBmdW5jdGlvbiBpc0NhcmREdWVGb3JSZXZpZXcobWV0YWRhdGE6IENhcmRNZXRhZGF0YSk6IGJvb2xlYW4ge1xuICAgIGlmICghbWV0YWRhdGEubmV4dFJldmlldykgcmV0dXJuIHRydWU7XG5cbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgdG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgY29uc3QgcmV2aWV3RGF0ZSA9IG5ldyBEYXRlKG1ldGFkYXRhLm5leHRSZXZpZXcpO1xuICAgIHJldmlld0RhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgcmV0dXJuIHJldmlld0RhdGUgPD0gdG9kYXk7XG59XG5cbi8vIFNvcnQgZmxhc2hjYXJkcyBieSByZXZpZXcgZGF0ZVxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRGbGFzaGNhcmRzKGNhcmRzOiBDYXJkTWV0YWRhdGFbXSk6IENhcmRNZXRhZGF0YVtdIHtcbiAgICByZXR1cm4gY2FyZHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBpZiAoIWEubmV4dFJldmlldykgcmV0dXJuIC0xO1xuICAgICAgICBpZiAoIWIubmV4dFJldmlldykgcmV0dXJuIDE7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShhLm5leHRSZXZpZXcpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIubmV4dFJldmlldykuZ2V0VGltZSgpO1xuICAgIH0pO1xufVxuXG4vLyBHZXQgYWxsIGZsYXNoY2FyZHMgdGhhdCBhcmUgZHVlIGZvciByZXZpZXdcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRGbGFzaGNhcmRzRm9yUmV2aWV3KHBsdWdpbjogTWVtTWFzdGVyUGx1Z2luKTogUHJvbWlzZTxDYXJkTWV0YWRhdGFbXT4ge1xuICAgIGNvbnN0IGZpbGVzID0gcGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgY29uc3QgY2FyZE1ldGFkYXRhOiBDYXJkTWV0YWRhdGFbXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgIGNvbnN0IHNob3VsZEluY2x1ZGUgPSBhd2FpdCBpc0ZpbGVGbGFzaGNhcmQocGx1Z2luLCBmaWxlKTtcblxuICAgICAgICBpZiAoc2hvdWxkSW5jbHVkZSkge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHBsdWdpbi5hcHAudmF1bHQuY2FjaGVkUmVhZChmaWxlKTtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgbWV0YWRhdGE7IGlmIG5vbmUsIHRyZWF0IGFzIHVuc2NoZWR1bGVkIChkdWUgdG9kYXkpXG4gICAgICAgICAgICBjb25zdCBleHRyYWN0ZWQgPSBleHRyYWN0TWV0YWRhdGEoY29udGVudCwgZmlsZSk7XG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGV4dHJhY3RlZCA/PyB7XG4gICAgICAgICAgICAgICAgbmV4dFJldmlldzogJycsXG4gICAgICAgICAgICAgICAgc3RhZ2U6ICcwJyxcbiAgICAgICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoaXNDYXJkRHVlRm9yUmV2aWV3KG1ldGFkYXRhKSkge1xuICAgICAgICAgICAgICAgIGNhcmRNZXRhZGF0YS5wdXNoKG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNvcnQgY2FyZHNcbiAgICByZXR1cm4gc29ydEZsYXNoY2FyZHMoY2FyZE1ldGFkYXRhKTtcbn0iLCAiaW1wb3J0IHsgVEZpbGUsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCBNZW1NYXN0ZXJQbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5pbXBvcnQgeyBQTFVHSU5fRVZFTlRTIH0gZnJvbSAnLi9ldmVudHMnO1xuaW1wb3J0IHsgaXNGaWxlSW5Gb2xkZXIgfSBmcm9tICcuL3V0aWxzJztcblxuLy8gQWRkIHRoaXMgaW50ZXJmYWNlIGF0IHRoZSB0b3Agb2YgdGhlIGZpbGUsIGFmdGVyIGltcG9ydHNcbmludGVyZmFjZSBQYXJzZWRDb250ZW50IHtcbiAgICBtZXRhZGF0YTogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICBib2R5OiBzdHJpbmc7XG59XG5cbi8vIE5ldyBmdW5jdGlvbiB0byBleHRyYWN0IGFuZCBwYXJzZSBmcm9udG1hdHRlclxuZnVuY3Rpb24gcGFyc2VGcm9udG1hdHRlcihjb250ZW50OiBzdHJpbmcpOiBQYXJzZWRDb250ZW50IHtcbiAgICAvLyBFeHRyYWN0IFlBTUwgZnJvbnRtYXR0ZXJcbiAgICBjb25zdCBmcm9udG1hdHRlck1hdGNoID0gY29udGVudC5tYXRjaCgvXi0tLVxcbihbXFxzXFxTXSo/KVxcbi0tLS8pO1xuICAgIGNvbnN0IGZyb250bWF0dGVyID0gZnJvbnRtYXR0ZXJNYXRjaCA/IGZyb250bWF0dGVyTWF0Y2hbMV0gOiBcIlwiO1xuICAgIGNvbnN0IGJvZHkgPSBmcm9udG1hdHRlck1hdGNoID8gY29udGVudC5yZXBsYWNlKGZyb250bWF0dGVyTWF0Y2hbMF0sIFwiXCIpLnRyaW0oKSA6IGNvbnRlbnQ7XG5cbiAgICAvLyBQYXJzZSBmcm9udG1hdHRlciBpbnRvIG1ldGFkYXRhIG9iamVjdFxuICAgIGNvbnN0IG1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgZnJvbnRtYXR0ZXIuc3BsaXQoXCJcXG5cIikuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgICBjb25zdCBjb2xvbkluZGV4ID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAgICAgIGlmIChjb2xvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgY29sb25JbmRleCkudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBsaW5lLnN1YnN0cmluZyhjb2xvbkluZGV4ICsgMSkudHJpbSgpO1xuICAgICAgICAgICAgaWYgKGtleSAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHsgbWV0YWRhdGEsIGJvZHkgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUNhcmRNZXRhZGF0YShwbHVnaW46IE1lbU1hc3RlclBsdWdpbiwgZmlsZTogVEZpbGUsIGRpZmZpY3VsdHk6IHN0cmluZykge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBwbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG5cbiAgICAvLyBFeHRyYWN0IFlBTUwgZnJvbnRtYXR0ZXJcbiAgICBjb25zdCB7IG1ldGFkYXRhLCBib2R5IH0gPSBwYXJzZUZyb250bWF0dGVyKGNvbnRlbnQpO1xuXG4gICAgLy8gVXBkYXRlIHN0YWdlIGFuZCByZXZpZXcgZGF0ZVxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IG5leHRJbnRlcnZhbDogbnVtYmVyO1xuICAgIGxldCBzdGFnZSA9IHBhcnNlSW50KG1ldGFkYXRhW1wibWVtbWFzdGVyLXN0YWdlXCJdIHx8IFwiMFwiKTtcblxuICAgIGlmIChkaWZmaWN1bHR5ID09PSBcImVhc3lcIikge1xuICAgICAgICBuZXh0SW50ZXJ2YWwgPSBNYXRoLnBvdygyLCBzdGFnZSk7XG4gICAgICAgIHN0YWdlKys7XG4gICAgfSBlbHNlIGlmIChkaWZmaWN1bHR5ID09PSBcIm1lZGl1bVwiKSB7XG4gICAgICAgIG5leHRJbnRlcnZhbCA9IE1hdGgucG93KDEuNSwgc3RhZ2UpO1xuICAgICAgICBzdGFnZSsrO1xuICAgIH0gZWxzZSBpZiAoZGlmZmljdWx0eSA9PT0gXCJoYXJkXCIpIHtcbiAgICAgICAgbmV4dEludGVydmFsID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihNYXRoLnBvdygxLjIsIHN0YWdlKSkpO1xuICAgICAgICBzdGFnZSsrO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERlZmF1bHQgZmFsbGJhY2sgZm9yIHVua25vd24gZGlmZmljdWx0eVxuICAgICAgICBuZXh0SW50ZXJ2YWwgPSAxO1xuICAgICAgICBzdGFnZSsrO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHN0YWdlIGlzIGFib3ZlIDEwXG4gICAgaWYgKHN0YWdlID4gMTApIHtcbiAgICAgICAgLy8gUmVtb3ZlIG1ldGFkYXRhIGJ5IHJlbW92aW5nIHRoZSBlbnRpcmUgZnJvbnRtYXR0ZXJcbiAgICAgICAgYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgYm9keSk7XG4gICAgICAgIG5ldyBOb3RpY2UocGx1Z2luLmkxOG4udCgnbm90aWNlcy5jYXJkTWFzdGVyZWQnKSk7XG5cbiAgICAgICAgLy8gUmVmcmVzaCByZXZpZXcgbGlzdCB2aWV3XG4gICAgICAgIHBsdWdpbi5ldmVudHMudHJpZ2dlcihQTFVHSU5fRVZFTlRTLkNBUkRfVVBEQVRFRCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBzdGFnZSBpcyBub3QgYWJvdmUgMTAsIHByb2NlZWQgd2l0aCBub3JtYWwgdXBkYXRlXG4gICAgY29uc3QgbmV4dERhdGUgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgbmV4dEludGVydmFsICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gICAgbWV0YWRhdGFbXCJtZW1tYXN0ZXItbmV4dC1yZXZpZXdcIl0gPSBuZXh0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcbiAgICBtZXRhZGF0YVtcIm1lbW1hc3Rlci1zdGFnZVwiXSA9IHN0YWdlLnRvU3RyaW5nKCk7XG5cbiAgICAvLyBGb3JtIG5ldyBZQU1MXG4gICAgY29uc3QgbmV3RnJvbnRtYXR0ZXIgPVxuICAgICAgICBcIi0tLVxcblwiICtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWV0YWRhdGEpXG4gICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX06ICR7dmFsdWV9YClcbiAgICAgICAgICAgIC5qb2luKFwiXFxuXCIpICtcbiAgICAgICAgXCJcXG4tLS1cXG5cIjtcblxuICAgIC8vIFdyaXRlIGJhY2sgdG8gZmlsZVxuICAgIGF3YWl0IHBsdWdpbi5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIG5ld0Zyb250bWF0dGVyICsgXCJcXG5cIiArIGJvZHkpO1xuICAgIG5ldyBOb3RpY2UocGx1Z2luLmkxOG4udCgnbm90aWNlcy5jYXJkVXBkYXRlZCcsIHsgZGF0ZTogbWV0YWRhdGFbXCJtZW1tYXN0ZXItbmV4dC1yZXZpZXdcIl0gfSkpO1xuXG4gICAgLy8gUmVmcmVzaCByZXZpZXcgbGlzdCB2aWV3XG4gICAgcGx1Z2luLmV2ZW50cy50cmlnZ2VyKFBMVUdJTl9FVkVOVFMuQ0FSRF9VUERBVEVEKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1ha2VGbGFzaGNhcmQocGx1Z2luOiBNZW1NYXN0ZXJQbHVnaW4sIGZpbGU6IFRGaWxlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICBjb25zdCB7IG1ldGFkYXRhLCBib2R5IH0gPSBwYXJzZUZyb250bWF0dGVyKGNvbnRlbnQpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBtZXRhZGF0YSBmb3IgbmV3IGZsYXNoY2FyZFxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgbWV0YWRhdGFbXCJtZW1tYXN0ZXItbmV4dC1yZXZpZXdcIl0gPSBub3cudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG4gICAgbWV0YWRhdGFbXCJtZW1tYXN0ZXItc3RhZ2VcIl0gPSBcIjBcIjtcblxuICAgIGlmIChwbHVnaW4uc2V0dGluZ3Muc291cmNlTW9kZSA9PT0gJ3RhZycpIHtcbiAgICAgICAgLy8gQWRkIHRhZyB0byBjb250ZW50XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSBwbHVnaW4uc2V0dGluZ3MudGFnTmFtZSB8fCAnZmxhc2hjYXJkJztcbiAgICAgICAgY29uc3QgdGFnID0gdGFnTmFtZS5zdGFydHNXaXRoKCcjJykgPyB0YWdOYW1lIDogYCMke3RhZ05hbWV9YDtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIHRhZyBhbHJlYWR5IGV4aXN0cyBpbiBjb250ZW50XG4gICAgICAgIGNvbnN0IHRhZ1JlZ2V4ID0gbmV3IFJlZ0V4cChgKF58XFxcXHMpJHt0YWcucmVwbGFjZSgnIycsICdcXFxcIycpfShcXFxcYnwkKWAsICdpJyk7XG4gICAgICAgIGlmICh0YWdSZWdleC50ZXN0KGNvbnRlbnQpKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKHBsdWdpbi5pMThuLnQoJ25vdGljZXMuYWxyZWFkeUZsYXNoY2FyZCcpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRhZyBleGlzdHMgaW4gZnJvbnRtYXR0ZXJcbiAgICAgICAgbGV0IGhhc1RhZ0luRnJvbnRtYXR0ZXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKG1ldGFkYXRhWyd0YWdzJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSBtZXRhZGF0YVsndGFncyddO1xuICAgICAgICAgICAgaWYgKHRhZ3MuaW5jbHVkZXModGFnTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBoYXNUYWdJbkZyb250bWF0dGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNUYWdJbkZyb250bWF0dGVyKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKHBsdWdpbi5pMThuLnQoJ25vdGljZXMuYWxyZWFkeUZsYXNoY2FyZCcpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCB0YWcgdG8gYm9keSBjb250ZW50IChhdCB0aGUgYmVnaW5uaW5nKVxuICAgICAgICAvLyBSZW1vdmUgb25seSBsZWFkaW5nL3RyYWlsaW5nIGVtcHR5IGxpbmVzLCBidXQgcHJlc2VydmUgaW5kZW50YXRpb25cbiAgICAgICAgbGV0IG5ld0JvZHkgPSBib2R5LnJlcGxhY2UoL15cXG4rLywgJycpLnJlcGxhY2UoL1xcbiskLywgJycpO1xuICAgICAgICBpZiAobmV3Qm9keS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBuZXdCb2R5ID0gdGFnICsgJ1xcblxcbicgKyBuZXdCb2R5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3Qm9keSA9IHRhZyArICdcXG4nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9ybSBuZXcgWUFNTFxuICAgICAgICBjb25zdCBuZXdGcm9udG1hdHRlciA9XG4gICAgICAgICAgICBcIi0tLVxcblwiICtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG1ldGFkYXRhKVxuICAgICAgICAgICAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCR7a2V5fTogJHt2YWx1ZX1gKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiXFxuXCIpICtcbiAgICAgICAgICAgIFwiXFxuLS0tXCI7XG5cbiAgICAgICAgLy8gV3JpdGUgYmFjayB0byBmaWxlIHdpdGggdGFnIGluIGJvZHlcbiAgICAgICAgYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgbmV3RnJvbnRtYXR0ZXIgKyBcIlxcblwiICsgbmV3Qm9keSk7XG4gICAgICAgIG5ldyBOb3RpY2UocGx1Z2luLmkxOG4udCgnbm90aWNlcy5mbGFzaGNhcmRDcmVhdGVkJykgKyAnIC0gJyArIHBsdWdpbi5pMThuLnQoJ25vdGljZXMudGFnQWRkZWQnLCB7IHRhZyB9KSk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZWZyZXNoIHJldmlldyBsaXN0IHZpZXdcbiAgICAgICAgcGx1Z2luLmV2ZW50cy50cmlnZ2VyKFBMVUdJTl9FVkVOVFMuQ0FSRF9VUERBVEVEKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICB9IGVsc2UgaWYgKHBsdWdpbi5zZXR0aW5ncy5zb3VyY2VNb2RlID09PSAnZm9sZGVyJykge1xuICAgICAgICAvLyBNb3ZlIGZpbGUgdG8gZm9sZGVyXG4gICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBwbHVnaW4uc2V0dGluZ3MuZm9sZGVyTmFtZSB8fCAnRmxhc2hjYXJkcyc7XG4gICAgICAgIGNvbnN0IGNsZWFuRm9sZGVyUGF0aCA9IGZvbGRlclBhdGgudHJpbSgpLnJlcGxhY2UoL15cXC8rfFxcLyskL2csICcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIGZpbGUgaXMgYWxyZWFkeSBpbiB0aGUgdGFyZ2V0IGZvbGRlclxuICAgICAgICBpZiAoaXNGaWxlSW5Gb2xkZXIoZmlsZS5wYXRoLCBjbGVhbkZvbGRlclBhdGgpKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKHBsdWdpbi5pMThuLnQoJ25vdGljZXMuYWxyZWFkeUZsYXNoY2FyZCcpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVuc3VyZSBmb2xkZXIgZXhpc3RzXG4gICAgICAgIGNvbnN0IGZvbGRlciA9IHBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGNsZWFuRm9sZGVyUGF0aCk7XG4gICAgICAgIGlmICghZm9sZGVyKSB7XG4gICAgICAgICAgICBhd2FpdCBwbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihjbGVhbkZvbGRlclBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZSBmaWxlXG4gICAgICAgIGNvbnN0IG5ld1BhdGggPSBgJHtjbGVhbkZvbGRlclBhdGh9LyR7ZmlsZS5uYW1lfWA7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgbWV0YWRhdGEgYmVmb3JlIG1vdmluZ1xuICAgICAgICBjb25zdCBuZXdGcm9udG1hdHRlciA9XG4gICAgICAgICAgICBcIi0tLVxcblwiICtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG1ldGFkYXRhKVxuICAgICAgICAgICAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCR7a2V5fTogJHt2YWx1ZX1gKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiXFxuXCIpICtcbiAgICAgICAgICAgIFwiXFxuLS0tXFxuXCI7XG4gICAgICAgIGF3YWl0IHBsdWdpbi5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIG5ld0Zyb250bWF0dGVyICsgXCJcXG5cIiArIGJvZHkpO1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgcGx1Z2luLmFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKGZpbGUsIG5ld1BhdGgpO1xuICAgICAgICBuZXcgTm90aWNlKHBsdWdpbi5pMThuLnQoJ25vdGljZXMuZmxhc2hjYXJkQ3JlYXRlZCcpICsgJyAtICcgKyBwbHVnaW4uaTE4bi50KCdub3RpY2VzLm1vdmVkVG9Gb2xkZXInLCB7IGZvbGRlcjogY2xlYW5Gb2xkZXJQYXRoIH0pKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlZnJlc2ggcmV2aWV3IGxpc3Qgdmlld1xuICAgICAgICBwbHVnaW4uZXZlbnRzLnRyaWdnZXIoUExVR0lOX0VWRU5UUy5DQVJEX1VQREFURUQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59IiwgImltcG9ydCB7IFRGaWxlLCBNYXJrZG93blZpZXcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgTWVtTWFzdGVyUGx1Z2luIGZyb20gJy4uL21haW4nO1xuaW1wb3J0IHsgdXBkYXRlQ2FyZE1ldGFkYXRhIH0gZnJvbSAnLi4vY29yZS9zY2hlZHVsZXInO1xuaW1wb3J0IHsgaXNGaWxlRmxhc2hjYXJkIH0gZnJvbSAnLi4vY29yZS9maW5kZXInO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tICcuLi9jb3JlL3V0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbkNvbnRhaW5lcihmaWxlOiBURmlsZSwgcGx1Z2luOiBNZW1NYXN0ZXJQbHVnaW4pOiBIVE1MRWxlbWVudCB7XG5cdGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRidXR0b25Db250YWluZXIuY2xhc3NOYW1lID0gJ21tLWVzdGltYXRpb24tY2FyZC1idXR0b25zLWNvbnRhaW5lcic7XG5cblx0Y29uc3QgdGV4dEJ1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcblx0dGV4dEJ1dHRvbkNvbnRhaW5lci5jbGFzc05hbWUgPSAnbW0tZXN0aW1hdGlvbi1jYXJkLXRleHQnO1xuXHR0ZXh0QnV0dG9uQ29udGFpbmVyLnRleHRDb250ZW50ID0gcGx1Z2luLmkxOG4udCgncmV2aWV3Rmxhc2hjYXJkLmRpZmZpY3VsdHlRdWVzdGlvbicpO1xuXG5cdGNvbnN0IGJ1dHRvbkdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGJ1dHRvbkdyb3VwLmNsYXNzTmFtZSA9ICdtbS1lc3RpbWF0aW9uLWNhcmQtYnV0dG9ucy1ibG9jayc7XG5cblx0Y29uc3QgZWFzeUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHRlYXN5QnV0dG9uLmNsYXNzTmFtZSA9ICdtbS1lc3RpbWF0aW9uLWNhcmQtYnV0dG9uIG1tLWVhc3ktYnV0dG9uJztcblx0ZWFzeUJ1dHRvbi50ZXh0Q29udGVudCA9IHBsdWdpbi5pMThuLnQoJ3Jldmlld0ZsYXNoY2FyZC5lYXN5Jyk7XG5cdGVhc3lCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZSkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBQcmV2ZW50IGV2ZW50IGJ1YmJsaW5nXG5cdFx0YXdhaXQgdXBkYXRlQ2FyZE1ldGFkYXRhKHBsdWdpbiwgZmlsZSwgJ2Vhc3knKTtcblx0fSk7XG5cblx0Y29uc3QgbWVkaXVtQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cdG1lZGl1bUJ1dHRvbi5jbGFzc05hbWUgPSAnbW0tZXN0aW1hdGlvbi1jYXJkLWJ1dHRvbiBtbS1tZWRpdW0tYnV0dG9uJztcblx0bWVkaXVtQnV0dG9uLnRleHRDb250ZW50ID0gcGx1Z2luLmkxOG4udCgncmV2aWV3Rmxhc2hjYXJkLm1lZGl1bScpO1xuXHRtZWRpdW1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZSkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdGF3YWl0IHVwZGF0ZUNhcmRNZXRhZGF0YShwbHVnaW4sIGZpbGUsICdtZWRpdW0nKTtcblx0fSk7XG5cblx0Y29uc3QgaGFyZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHRoYXJkQnV0dG9uLmNsYXNzTmFtZSA9ICdtbS1lc3RpbWF0aW9uLWNhcmQtYnV0dG9uIG1tLWhhcmQtYnV0dG9uJztcblx0aGFyZEJ1dHRvbi50ZXh0Q29udGVudCA9IHBsdWdpbi5pMThuLnQoJ3Jldmlld0ZsYXNoY2FyZC5oYXJkJyk7XG5cdGhhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZSkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdGF3YWl0IHVwZGF0ZUNhcmRNZXRhZGF0YShwbHVnaW4sIGZpbGUsICdoYXJkJyk7XG5cdH0pO1xuXG5cdGJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKGVhc3lCdXR0b24pO1xuXHRidXR0b25Hcm91cC5hcHBlbmRDaGlsZChtZWRpdW1CdXR0b24pO1xuXHRidXR0b25Hcm91cC5hcHBlbmRDaGlsZChoYXJkQnV0dG9uKTtcblxuXHRidXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQodGV4dEJ1dHRvbkNvbnRhaW5lcik7XG5cdGJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25Hcm91cCk7XG5cblx0Ly8gQWRkIG1vdXNlIG1vdmUgaGFuZGxlciBmb3IgaW50ZXJhY3RpdmUgYm9yZGVyIGVmZmVjdFxuXHRidXR0b25Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IHtcblx0XHRjb25zdCByZWN0ID0gYnV0dG9uQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdGNvbnN0IHggPSAoKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoKSAqIDEwMDtcblx0XHRjb25zdCB5ID0gKChlLmNsaWVudFkgLSByZWN0LnRvcCkgLyByZWN0LmhlaWdodCkgKiAxMDA7XG5cdFx0YnV0dG9uQ29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCctLW1vdXNlLXgnLCBgJHt4fSVgKTtcblx0XHRidXR0b25Db250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoJy0tbW91c2UteScsIGAke3l9JWApO1xuXHR9KTtcblxuXHRyZXR1cm4gYnV0dG9uQ29udGFpbmVyO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3luY0ZsYXNoY2FyZEJ1dHRvbnMoXG5cdHZpZXc6IE1hcmtkb3duVmlldywgXG5cdHBsdWdpbjogTWVtTWFzdGVyUGx1Z2luLFxuXHRvcHRpb25zOiB7IFxuXHRcdGRlbGF5PzogbnVtYmVyO1xuXHRcdGNsZWFudXBNaXNwbGFjZWQ/OiBib29sZWFuO1xuXHRcdHJlbW92ZUlmTm9UYWc/OiBib29sZWFuO1xuXHR9ID0ge31cbikge1xuXHRjb25zdCB7IFxuXHRcdGRlbGF5ID0gMCwgXG5cdFx0Y2xlYW51cE1pc3BsYWNlZCA9IHRydWUsIFxuXHRcdHJlbW92ZUlmTm9UYWcgPSB0cnVlIFxuXHR9ID0gb3B0aW9ucztcblxuXHQvLyBEZWxheSBpZiBzcGVjaWZpZWRcblx0aWYgKGRlbGF5ID4gMCkge1xuXHRcdGF3YWl0IHNsZWVwKGRlbGF5KTtcblx0fVxuXG5cdGlmICghdmlldy5maWxlKSByZXR1cm47XG5cblx0Ly8gQ2hlY2sgaWYgY3VycmVudCBmaWxlIHNob3VsZCBkaXNwbGF5IGZsYXNoY2FyZCBjb250cm9sc1xuXHRjb25zdCBoYXNDYXJkVGFnID0gYXdhaXQgaXNGaWxlRmxhc2hjYXJkKHBsdWdpbiwgdmlldy5maWxlKTtcblxuXHQvLyBJZiBmaWxlIGlzIG5vdCBhIGZsYXNoY2FyZCwgb3B0aW9uYWxseSBjbGVhbiB1cCBhbmQgZXhpdFxuXHRpZiAoIWhhc0NhcmRUYWcpIHtcblx0XHRpZiAocmVtb3ZlSWZOb1RhZykge1xuXHRcdFx0Y29uc3QgZXhpc3RpbmdDb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1tLWVzdGltYXRpb24tY2FyZC1idXR0b25zLWNvbnRhaW5lcicpO1xuXHRcdFx0ZXhpc3RpbmdDb250YWluZXJzLmZvckVhY2goY29udGFpbmVyID0+IGNvbnRhaW5lci5yZW1vdmUoKSk7XG5cdFx0fVxuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFByb2Nlc3MgYWxsIHByZXZpZXcgc2VjdGlvbnNcblx0Y29uc3QgY29udGFpbmVyRWwgPSB2aWV3LnByZXZpZXdNb2RlPy5jb250YWluZXJFbCA/PyB2aWV3LmNvbnRhaW5lckVsO1xuXHRjb25zdCBwcmV2aWV3U2VjdGlvbnMgPSBjb250YWluZXJFbC5xdWVyeVNlbGVjdG9yQWxsKCcubWFya2Rvd24tcHJldmlldy1zZWN0aW9uJyk7XG5cdGNvbnN0IGZpbGUgPSB2aWV3LmZpbGU7XG5cblx0cHJldmlld1NlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XG5cdFx0bGV0IGNvbnRhaW5lciA9IHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLm1tLWVzdGltYXRpb24tY2FyZC1idXR0b25zLWNvbnRhaW5lcicpO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgbWlzcGxhY2VkIGNvbnRhaW5lcnMgaWYgb3B0aW9uIGlzIGVuYWJsZWRcblx0XHRpZiAoY2xlYW51cE1pc3BsYWNlZCAmJiBjb250YWluZXIgJiYgY29udGFpbmVyLnBhcmVudEVsZW1lbnQgIT09IHNlY3Rpb24pIHtcblx0XHRcdGNvbnRhaW5lci5yZW1vdmUoKTtcblx0XHRcdGNvbnRhaW5lciA9IG51bGw7XG5cdFx0fVxuXG5cdFx0Ly8gQ3JlYXRlIGNvbnRhaW5lciBpZiBpdCBkb2Vzbid0IGV4aXN0XG5cdFx0aWYgKCFjb250YWluZXIpIHtcblx0XHRcdGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGNyZWF0ZUJ1dHRvbkNvbnRhaW5lcihmaWxlLCBwbHVnaW4pO1xuXHRcdFx0c2VjdGlvbi5hcHBlbmRDaGlsZChidXR0b25Db250YWluZXIpO1xuXHRcdH1cblx0fSk7XG59IiwgImltcG9ydCB7IG1vbWVudCB9IGZyb20gJ29ic2lkaWFuJztcblxuLy8gSW1wb3J0IHRyYW5zbGF0aW9uIGZpbGVzXG5pbXBvcnQgZW4gZnJvbSAnLi9lbi5qc29uJztcbmltcG9ydCBydSBmcm9tICcuL3J1Lmpzb24nO1xuXG5leHBvcnQgdHlwZSBMb2NhbGUgPSAnZW4nIHwgJ3J1JztcblxuaW50ZXJmYWNlIFRyYW5zbGF0aW9ucyB7XG5cdFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuY29uc3QgdHJhbnNsYXRpb25zOiBSZWNvcmQ8TG9jYWxlLCBUcmFuc2xhdGlvbnM+ID0ge1xuXHRlbixcblx0cnUsXG59O1xuXG5leHBvcnQgY2xhc3MgSTE4biB7XG5cdHByaXZhdGUgbG9jYWxlOiBMb2NhbGU7XG5cdHByaXZhdGUgdHJhbnNsYXRpb25zOiBUcmFuc2xhdGlvbnM7XG5cblx0Y29uc3RydWN0b3IobG9jYWxlPzogTG9jYWxlKSB7XG5cdFx0Ly8gR2V0IGxvY2FsZSBmcm9tIE9ic2lkaWFuIG9yIHVzZSBkZWZhdWx0XG5cdFx0dGhpcy5sb2NhbGUgPSB0aGlzLmdldE9ic2lkaWFuTG9jYWxlKGxvY2FsZSk7XG5cdFx0dGhpcy50cmFuc2xhdGlvbnMgPSB0cmFuc2xhdGlvbnNbdGhpcy5sb2NhbGVdIHx8IHRyYW5zbGF0aW9ucy5lbjtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgT2JzaWRpYW4gbG9jYWxlIG9yIGZhbGxiYWNrIHRvIHByb3ZpZGVkIGxvY2FsZSBvciAnZW4nXG5cdCAqL1xuXHRwcml2YXRlIGdldE9ic2lkaWFuTG9jYWxlKGZhbGxiYWNrTG9jYWxlPzogTG9jYWxlKTogTG9jYWxlIHtcblx0XHQvLyBtb21lbnQubG9jYWxlKCkgcmV0dXJucyB0aGUgY3VycmVudCBsb2NhbGUgc2V0IGJ5IE9ic2lkaWFuXG5cdFx0Y29uc3Qgb2JzaWRpYW5Mb2NhbGUgPSBtb21lbnQubG9jYWxlKCk7XG5cdFx0XG5cdFx0Ly8gTWFwIE9ic2lkaWFuIGxvY2FsZXMgdG8gb3VyIHN1cHBvcnRlZCBsb2NhbGVzXG5cdFx0aWYgKG9ic2lkaWFuTG9jYWxlLnN0YXJ0c1dpdGgoJ3J1JykpIHtcblx0XHRcdHJldHVybiAncnUnO1xuXHRcdH1cblx0XHRcblx0XHQvLyBJZiB3ZSBoYXZlIGEgZmFsbGJhY2sgbG9jYWxlIGFuZCBpdCdzIHN1cHBvcnRlZCwgdXNlIGl0XG5cdFx0aWYgKGZhbGxiYWNrTG9jYWxlICYmIGZhbGxiYWNrTG9jYWxlIGluIHRyYW5zbGF0aW9ucykge1xuXHRcdFx0cmV0dXJuIGZhbGxiYWNrTG9jYWxlO1xuXHRcdH1cblx0XHRcblx0XHQvLyBEZWZhdWx0IHRvIEVuZ2xpc2hcblx0XHRyZXR1cm4gJ2VuJztcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgdHJhbnNsYXRpb24gYnkga2V5IHBhdGggKGUuZy4sICdzZXR0aW5ncy5jYXJkU291cmNlLm5hbWUnKVxuXHQgKiBTdXBwb3J0cyB2YXJpYWJsZSBpbnRlcnBvbGF0aW9uIHVzaW5nIHt7dmFyaWFibGV9fSBzeW50YXhcblx0ICovXG5cdHQoa2V5UGF0aDogc3RyaW5nLCB2YXJpYWJsZXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+KTogc3RyaW5nIHtcblx0XHRjb25zdCBrZXlzID0ga2V5UGF0aC5zcGxpdCgnLicpO1xuXHRcdGxldCB2YWx1ZTogYW55ID0gdGhpcy50cmFuc2xhdGlvbnM7XG5cblx0XHQvLyBOYXZpZ2F0ZSB0aHJvdWdoIHRoZSB0cmFuc2xhdGlvbiBvYmplY3Rcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG5cdFx0XHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBrZXkgaW4gdmFsdWUpIHtcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZVtrZXldO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gSWYga2V5IG5vdCBmb3VuZCwgcmV0dXJuIHRoZSBrZXkgaXRzZWxmIGFzIGZhbGxiYWNrXG5cdFx0XHRcdGNvbnNvbGUud2FybihgVHJhbnNsYXRpb24ga2V5IG5vdCBmb3VuZDogJHtrZXlQYXRofWApO1xuXHRcdFx0XHRyZXR1cm4ga2V5UGF0aDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBJZiBmaW5hbCB2YWx1ZSBpcyBub3QgYSBzdHJpbmcsIHJldHVybiB0aGUga2V5IHBhdGhcblx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuXHRcdFx0Y29uc29sZS53YXJuKGBUcmFuc2xhdGlvbiB2YWx1ZSBpcyBub3QgYSBzdHJpbmc6ICR7a2V5UGF0aH1gKTtcblx0XHRcdHJldHVybiBrZXlQYXRoO1xuXHRcdH1cblxuXHRcdC8vIFJlcGxhY2UgdmFyaWFibGVzIGlmIHByb3ZpZGVkXG5cdFx0aWYgKHZhcmlhYmxlcykge1xuXHRcdFx0cmV0dXJuIHRoaXMuaW50ZXJwb2xhdGUodmFsdWUsIHZhcmlhYmxlcyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlcGxhY2Uge3t2YXJpYWJsZX19IHBsYWNlaG9sZGVycyB3aXRoIGFjdHVhbCB2YWx1ZXNcblx0ICovXG5cdHByaXZhdGUgaW50ZXJwb2xhdGUodGVtcGxhdGU6IHN0cmluZywgdmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+KTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGVtcGxhdGUucmVwbGFjZSgvXFx7XFx7KFxcdyspXFx9XFx9L2csIChtYXRjaCwga2V5KSA9PiB7XG5cdFx0XHRyZXR1cm4ga2V5IGluIHZhcmlhYmxlcyA/IFN0cmluZyh2YXJpYWJsZXNba2V5XSkgOiBtYXRjaDtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgY3VycmVudCBsb2NhbGVcblx0ICovXG5cdGdldExvY2FsZSgpOiBMb2NhbGUge1xuXHRcdHJldHVybiB0aGlzLmxvY2FsZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGFuZ2UgbG9jYWxlXG5cdCAqL1xuXHRzZXRMb2NhbGUobG9jYWxlOiBMb2NhbGUpOiB2b2lkIHtcblx0XHRpZiAobG9jYWxlIGluIHRyYW5zbGF0aW9ucykge1xuXHRcdFx0dGhpcy5sb2NhbGUgPSBsb2NhbGU7XG5cdFx0XHR0aGlzLnRyYW5zbGF0aW9ucyA9IHRyYW5zbGF0aW9uc1tsb2NhbGVdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYExvY2FsZSBub3Qgc3VwcG9ydGVkOiAke2xvY2FsZX0sIGZhbGxpbmcgYmFjayB0byAnZW4nYCk7XG5cdFx0XHR0aGlzLmxvY2FsZSA9ICdlbic7XG5cdFx0XHR0aGlzLnRyYW5zbGF0aW9ucyA9IHRyYW5zbGF0aW9ucy5lbjtcblx0XHR9XG5cdH1cbn1cblxuIiwgIntcbiAgXCJyaWJib25JY29uXCI6IHtcbiAgICBcIm9wZW5SZXZpZXdGbGFzaGNhcmRzXCI6IFwiT3BlbiByZXBldGl0aW9uIGZsYXNoY2FyZHNcIlxuICB9LFxuICBcImNvbW1hbmRzXCI6IHtcbiAgICBcIm9wZW5SZXZpZXdMaXN0Vmlld1wiOiBcIk9wZW4gUmV2aWV3IExpc3QgVmlld1wiLFxuICAgIFwibWFya0FzRWFzeVwiOiBcIk1hcmsgY3VycmVudCBjYXJkIGFzIEVhc3lcIixcbiAgICBcIm1hcmtBc01lZGl1bVwiOiBcIk1hcmsgY3VycmVudCBjYXJkIGFzIE1lZGl1bVwiLFxuICAgIFwibWFya0FzSGFyZFwiOiBcIk1hcmsgY3VycmVudCBjYXJkIGFzIEhhcmRcIixcbiAgICBcIm1ha2VGbGFzaGNhcmRcIjogXCJNYWtlIGN1cnJlbnQgZG9jdW1lbnQgYSBmbGFzaGNhcmRcIlxuICB9LFxuICBcInNldHRpbmdzXCI6IHtcbiAgICBcImZsYXNoY2FyZFNvdXJjZUhlYWRpbmdcIjogXCJGbGFzaGNhcmQgc291cmNlIHNldHRpbmdzXCIsXG4gICAgXCJjYXJkU291cmNlXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIkNhcmQgc291cmNlXCIsXG4gICAgICBcImRlc2NcIjogXCJDaG9vc2UgaG93IHRvIGZpbmQgZmxhc2hjYXJkcyBmb3IgcmV2aWV3OiBieSB0YWcgb3IgYnkgZm9sZGVyIGxvY2F0aW9uXCJcbiAgICB9LFxuICAgIFwidGFnTmFtZVwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJUYWcgbmFtZVwiLFxuICAgICAgXCJkZXNjXCI6IFwiRW50ZXIgdGhlIHRhZyBuYW1lIHRvIHVzZVwiLFxuICAgICAgXCJwbGFjZWhvbGRlclwiOiBcIiNmbGFzaGNhcmRcIlxuICAgIH0sXG4gICAgXCJmb2xkZXJOYW1lXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIkZvbGRlciBuYW1lXCIsXG4gICAgICBcImRlc2NcIjogXCJFbnRlciB0aGUgZm9sZGVyIHBhdGggdG8gdXNlXCIsXG4gICAgICBcInBsYWNlaG9sZGVyXCI6IFwiRmxhc2hjYXJkc1wiXG4gICAgfSxcbiAgICBcInJldmlld0xpc3RIZWFkaW5nXCI6IFwiUmV2aWV3IGxpc3Qgc2V0dGluZ3NcIixcbiAgICBcImlzQmx1ckZsYXNoY2FyZFRleHRcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiQmx1ciBmbGFzaGNhcmQgdGV4dFwiLFxuICAgICAgXCJkZXNjXCI6IFwiQmx1ciBmbGFzaGNhcmQgY29udGVudCBpbiByZXZpZXcgbGlzdCB1bnRpbCBtb3VzZSBob3ZlclwiXG4gICAgfSxcbiAgICBcIm9wZW5JblByZXZpZXdNb2RlXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIk9wZW4gY2FyZHMgaW4gcmVhZGluZyBtb2RlXCIsXG4gICAgICBcImRlc2NcIjogXCJPcGVuIGZsYXNoY2FyZHMgZnJvbSByZXZpZXcgbGlzdCBpbiByZWFkaW5nIG1vZGUgKHByZXZpZXcpLiBJbXBvcnRhbnQ6IGVuYWJsaW5nIHRoaXMgc2V0dGluZyBpcyByZXF1aXJlZCBmb3IgcmV2aWV3IGJ1dHRvbnMgdG8gYXBwZWFyIG9uIGNhcmRzLlwiXG4gICAgfSxcbiAgICBcImhvdGtleXNIZWFkaW5nXCI6IFwiSG90a2V5cyBzZXR0aW5nc1wiLFxuICAgIFwiaG90a2V5c0Rlc2NcIjogXCJDb25maWd1cmUga2V5Ym9hcmQgc2hvcnRjdXRzIGZvciBxdWljayBjYXJkIHJldmlldy4gU2V0IGhvdGtleXMgaW4gU2V0dGluZ3MgPiBIb3RrZXlzID4gTWVtTWFzdGVyLlwiLFxuICAgIFwic291cmNlTW9kZVwiOiB7XG4gICAgICBcInRhZ1wiOiBcIlRhZ1wiLFxuICAgICAgXCJmb2xkZXJcIjogXCJGb2xkZXJcIlxuICAgIH1cbiAgfSxcbiAgXCJyZXZpZXdGbGFzaGNhcmRcIjoge1xuICAgIFwiZGlmZmljdWx0eVF1ZXN0aW9uXCI6IFwiSG93IGRpZmZpY3VsdCB3YXMgdGhpcyBjYXJkP1wiLFxuICAgIFwiZWFzeVwiOiBcIkVhc3lcIixcbiAgICBcIm1lZGl1bVwiOiBcIk1lZGl1bVwiLFxuICAgIFwiaGFyZFwiOiBcIkhhcmRcIlxuICB9LFxuICBcInJldmlld0xpc3RcIjoge1xuICAgIFwidmlld1RpdGxlXCI6IFwiUmVwZXRpdGlvbiBmbGFzaGNhcmRzXCIsXG4gICAgXCJzZWFyY2hQbGFjZWhvbGRlclwiOiBcIlNlYXJjaCBmbGFzaGNhcmRzLi4uXCIsXG4gICAgXCJub0ZsYXNoY2FyZHNcIjogXCJObyBmbGFzaGNhcmRzIGR1ZSBmb3IgcmV2aWV3LlwiLFxuICAgIFwibm9TZWFyY2hSZXN1bHRzXCI6IFwiTm8gZmxhc2hjYXJkcyBmb3VuZCBtYXRjaGluZyB5b3VyIHNlYXJjaC5cIixcbiAgICBcIm92ZXJkdWVCeURheXNcIjogXCJPdmVyZHVlIGJ5IHt7ZGF5c319IGRheXNcIixcbiAgICBcImR1ZVRvZGF5XCI6IFwiRHVlIHRvZGF5XCIsXG4gICAgXCJzb3J0TGFiZWxcIjogXCJTb3J0OlwiLFxuICAgIFwic29ydE9sZGVzdEZpcnN0XCI6IFwiTW9zdCBvdmVyZHVlIGZpcnN0XCIsXG4gICAgXCJzb3J0TmV3ZXN0Rmlyc3RcIjogXCJMZWFzdCBvdmVyZHVlIGZpcnN0XCJcbiAgfSxcbiAgXCJub3RpY2VzXCI6IHtcbiAgICBcIm5vdEFGbGFzaGNhcmRcIjogXCJUaGlzIGRvY3VtZW50IGlzIG5vdCBhIGZsYXNoY2FyZFwiLFxuICAgIFwibm9BY3RpdmVGaWxlXCI6IFwiTm8gYWN0aXZlIGZpbGVcIixcbiAgICBcImZsYXNoY2FyZENyZWF0ZWRcIjogXCJEb2N1bWVudCBtYXJrZWQgYXMgZmxhc2hjYXJkXCIsXG4gICAgXCJ0YWdBZGRlZFwiOiBcIlRhZyBhZGRlZDoge3t0YWd9fVwiLFxuICAgIFwibW92ZWRUb0ZvbGRlclwiOiBcIk1vdmVkIHRvIGZvbGRlcjoge3tmb2xkZXJ9fVwiLFxuICAgIFwiYWxyZWFkeUZsYXNoY2FyZFwiOiBcIlRoaXMgZG9jdW1lbnQgaXMgYWxyZWFkeSBhIGZsYXNoY2FyZFwiLFxuICAgIFwiY2FyZE1hc3RlcmVkXCI6IFwiQ2FyZCBtYXN0ZXJlZCEgTWV0YWRhdGEgY2xlYXJlZC5cIixcbiAgICBcImNhcmRVcGRhdGVkXCI6IFwiVXBkYXRlZCBjYXJkOiBuZXh0IHJldmlldyBvbiB7e2RhdGV9fVwiXG4gIH1cbn1cblxuIiwgIntcbiAgXCJyaWJib25JY29uXCI6IHtcbiAgICBcIm9wZW5SZXZpZXdGbGFzaGNhcmRzXCI6IFwiXHUwNDFFXHUwNDQyXHUwNDNBXHUwNDQwXHUwNDRCXHUwNDQyXHUwNDRDIFx1MDQzQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQzOCBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDQyXHUwNDNFXHUwNDQwXHUwNDM1XHUwNDNEXHUwNDM4XHUwNDRGXCJcbiAgfSxcbiAgXCJjb21tYW5kc1wiOiB7XG4gICAgXCJvcGVuUmV2aWV3TGlzdFZpZXdcIjogXCJcdTA0MUVcdTA0NDJcdTA0M0FcdTA0NDBcdTA0NEJcdTA0NDJcdTA0NEMgXHUwNDQxXHUwNDNGXHUwNDM4XHUwNDQxXHUwNDNFXHUwNDNBIFx1MDQzNFx1MDQzQlx1MDQ0RiBcdTA0M0ZcdTA0M0VcdTA0MzJcdTA0NDJcdTA0M0VcdTA0NDBcdTA0MzVcdTA0M0RcdTA0MzhcdTA0NEZcIixcbiAgICBcIm1hcmtBc0Vhc3lcIjogXCJcdTA0MUVcdTA0NDJcdTA0M0NcdTA0MzVcdTA0NDJcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDQyXHUwNDM1XHUwNDNBXHUwNDQzXHUwNDQ5XHUwNDQzXHUwNDRFIFx1MDQzQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQ0MyBcdTA0M0FcdTA0MzBcdTA0M0EgXHUwNDFCXHUwNDM1XHUwNDMzXHUwNDNBXHUwNDMwXHUwNDRGXCIsXG4gICAgXCJtYXJrQXNNZWRpdW1cIjogXCJcdTA0MUVcdTA0NDJcdTA0M0NcdTA0MzVcdTA0NDJcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDQyXHUwNDM1XHUwNDNBXHUwNDQzXHUwNDQ5XHUwNDQzXHUwNDRFIFx1MDQzQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQ0MyBcdTA0M0FcdTA0MzBcdTA0M0EgXHUwNDIxXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDNEXHUwNDRGXHUwNDRGXCIsXG4gICAgXCJtYXJrQXNIYXJkXCI6IFwiXHUwNDFFXHUwNDQyXHUwNDNDXHUwNDM1XHUwNDQyXHUwNDM4XHUwNDQyXHUwNDRDIFx1MDQ0Mlx1MDQzNVx1MDQzQVx1MDQ0M1x1MDQ0OVx1MDQ0M1x1MDQ0RSBcdTA0M0FcdTA0MzBcdTA0NDBcdTA0NDJcdTA0M0VcdTA0NDdcdTA0M0FcdTA0NDMgXHUwNDNBXHUwNDMwXHUwNDNBIFx1MDQyMVx1MDQzQlx1MDQzRVx1MDQzNlx1MDQzRFx1MDQzMFx1MDQ0RlwiLFxuICAgIFwibWFrZUZsYXNoY2FyZFwiOiBcIlx1MDQyMVx1MDQzNFx1MDQzNVx1MDQzQlx1MDQzMFx1MDQ0Mlx1MDQ0QyBcdTA0NDJcdTA0MzVcdTA0M0FcdTA0NDNcdTA0NDlcdTA0MzhcdTA0MzkgXHUwNDM0XHUwNDNFXHUwNDNBXHUwNDQzXHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyIFx1MDQzQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQzRVx1MDQzOVwiXG4gIH0sXG4gIFwic2V0dGluZ3NcIjoge1xuICAgIFwiZmxhc2hjYXJkU291cmNlSGVhZGluZ1wiOiBcIlx1MDQxRFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzOVx1MDQzQVx1MDQzOCBcdTA0MzhcdTA0NDFcdTA0NDJcdTA0M0VcdTA0NDdcdTA0M0RcdTA0MzhcdTA0M0FcdTA0MzAgXHUwNDNBXHUwNDMwXHUwNDQwXHUwNDQyXHUwNDNFXHUwNDQ3XHUwNDM1XHUwNDNBXCIsXG4gICAgXCJjYXJkU291cmNlXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlx1MDQxOFx1MDQ0MVx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzRFx1MDQzOFx1MDQzQSBcdTA0M0FcdTA0MzBcdTA0NDBcdTA0NDJcdTA0M0VcdTA0NDdcdTA0MzVcdTA0M0FcIixcbiAgICAgIFwiZGVzY1wiOiBcIlx1MDQxMlx1MDQ0Qlx1MDQzMVx1MDQzNVx1MDQ0MFx1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0NDFcdTA0M0ZcdTA0M0VcdTA0NDFcdTA0M0VcdTA0MzEgXHUwNDNGXHUwNDNFXHUwNDM4XHUwNDQxXHUwNDNBXHUwNDMwIFx1MDQzQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQSBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDQyXHUwNDNFXHUwNDQwXHUwNDM1XHUwNDNEXHUwNDM4XHUwNDRGOiBcdTA0M0ZcdTA0M0UgXHUwNDQyXHUwNDM1XHUwNDMzXHUwNDQzIFx1MDQzOFx1MDQzQlx1MDQzOCBcdTA0M0ZcdTA0M0UgXHUwNDNGXHUwNDMwXHUwNDNGXHUwNDNBXHUwNDM1XCJcbiAgICB9LFxuICAgIFwidGFnTmFtZVwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcdTA0MURcdTA0MzBcdTA0MzdcdTA0MzJcdTA0MzBcdTA0M0RcdTA0MzhcdTA0MzUgXHUwNDQyXHUwNDM1XHUwNDMzXHUwNDMwXCIsXG4gICAgICBcImRlc2NcIjogXCJcdTA0MTJcdTA0MzJcdTA0MzVcdTA0MzRcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDNEXHUwNDMwXHUwNDM3XHUwNDMyXHUwNDMwXHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQ0Mlx1MDQzNVx1MDQzM1x1MDQzMCBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDM4XHUwNDQxXHUwNDNGXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDM3XHUwNDNFXHUwNDMyXHUwNDMwXHUwNDNEXHUwNDM4XHUwNDRGXCIsXG4gICAgICBcInBsYWNlaG9sZGVyXCI6IFwiI1x1MDQzQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQzMFwiXG4gICAgfSxcbiAgICBcImZvbGRlck5hbWVcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDM3XHUwNDMyXHUwNDMwXHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQzRlx1MDQzMFx1MDQzRlx1MDQzQVx1MDQzOFwiLFxuICAgICAgXCJkZXNjXCI6IFwiXHUwNDEyXHUwNDMyXHUwNDM1XHUwNDM0XHUwNDM4XHUwNDQyXHUwNDM1IFx1MDQzRlx1MDQ0M1x1MDQ0Mlx1MDQ0QyBcdTA0M0EgXHUwNDNGXHUwNDMwXHUwNDNGXHUwNDNBXHUwNDM1IFx1MDQzNFx1MDQzQlx1MDQ0RiBcdTA0MzhcdTA0NDFcdTA0M0ZcdTA0M0VcdTA0M0JcdTA0NENcdTA0MzdcdTA0M0VcdTA0MzJcdTA0MzBcdTA0M0RcdTA0MzhcdTA0NEZcIixcbiAgICAgIFwicGxhY2Vob2xkZXJcIjogXCJcdTA0MUFcdTA0MzBcdTA0NDBcdTA0NDJcdTA0M0VcdTA0NDdcdTA0M0FcdTA0MzhcIlxuICAgIH0sXG4gICAgXCJyZXZpZXdMaXN0SGVhZGluZ1wiOiBcIlx1MDQxRFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzOVx1MDQzQVx1MDQzOCBcdTA0NDFcdTA0M0ZcdTA0MzhcdTA0NDFcdTA0M0FcdTA0MzAgXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDQyXHUwNDNFXHUwNDQwXHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM5XCIsXG4gICAgXCJpc0JsdXJGbGFzaGNhcmRUZXh0XCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlx1MDQyMFx1MDQzMFx1MDQzN1x1MDQzQ1x1MDQ0Qlx1MDQ0Mlx1MDQ0QyBcdTA0NDJcdTA0MzVcdTA0M0FcdTA0NDFcdTA0NDIgXHUwNDNBXHUwNDMwXHUwNDQwXHUwNDQyXHUwNDNFXHUwNDQ3XHUwNDNBXHUwNDM4XCIsXG4gICAgICBcImRlc2NcIjogXCJcdTA0MjBcdTA0MzBcdTA0MzdcdTA0M0NcdTA0NEJcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDQxXHUwNDNFXHUwNDM0XHUwNDM1XHUwNDQwXHUwNDM2XHUwNDM4XHUwNDNDXHUwNDNFXHUwNDM1IFx1MDQzQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQzOCBcdTA0MzIgXHUwNDQxXHUwNDNGXHUwNDM4XHUwNDQxXHUwNDNBXHUwNDM1IFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQ0Mlx1MDQzRVx1MDQ0MFx1MDQzNVx1MDQzRFx1MDQzOFx1MDQzOSBcdTA0MzRcdTA0M0UgXHUwNDNEXHUwNDMwXHUwNDMyXHUwNDM1XHUwNDM0XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDRGIFx1MDQzQ1x1MDQ0Qlx1MDQ0OFx1MDQzOFwiXG4gICAgfSxcbiAgICBcIm9wZW5JblByZXZpZXdNb2RlXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlx1MDQxRVx1MDQ0Mlx1MDQzQVx1MDQ0MFx1MDQ0Qlx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQ0QyBcdTA0M0FcdTA0MzBcdTA0NDBcdTA0NDJcdTA0M0VcdTA0NDdcdTA0M0FcdTA0MzggXHUwNDMyIFx1MDQ0MFx1MDQzNVx1MDQzNlx1MDQzOFx1MDQzQ1x1MDQzNSBcdTA0NDdcdTA0NDJcdTA0MzVcdTA0M0RcdTA0MzhcdTA0NEZcIixcbiAgICAgIFwiZGVzY1wiOiBcIlx1MDQxRVx1MDQ0Mlx1MDQzQVx1MDQ0MFx1MDQ0Qlx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQ0QyBcdTA0M0FcdTA0MzBcdTA0NDBcdTA0NDJcdTA0M0VcdTA0NDdcdTA0M0FcdTA0MzggXHUwNDM4XHUwNDM3IFx1MDQ0MVx1MDQzRlx1MDQzOFx1MDQ0MVx1MDQzQVx1MDQzMCBcdTA0M0ZcdTA0M0VcdTA0MzJcdTA0NDJcdTA0M0VcdTA0NDBcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDMyIFx1MDQ0MFx1MDQzNVx1MDQzNlx1MDQzOFx1MDQzQ1x1MDQzNSBcdTA0NDdcdTA0NDJcdTA0MzVcdTA0M0RcdTA0MzhcdTA0NEYgKHByZXZpZXcpLiBcdTA0MTJcdTA0MzBcdTA0MzZcdTA0M0RcdTA0M0U6IFx1MDQzMlx1MDQzQVx1MDQzQlx1MDQ0RVx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNSBcdTA0NERcdTA0NDJcdTA0M0VcdTA0MzkgXHUwNDNEXHUwNDMwXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDM5XHUwNDNBXHUwNDM4IFx1MDQzRFx1MDQzNVx1MDQzRVx1MDQzMVx1MDQ0NVx1MDQzRVx1MDQzNFx1MDQzOFx1MDQzQ1x1MDQzRSBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDNGXHUwNDNFXHUwNDRGXHUwNDMyXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDM4XHUwNDRGIFx1MDQzQVx1MDQzRFx1MDQzRVx1MDQzRlx1MDQzRVx1MDQzQSBcdTA0M0ZcdTA0M0VcdTA0MzJcdTA0NDJcdTA0M0VcdTA0NDBcdTA0MzVcdTA0M0RcdTA0MzhcdTA0NEYgXHUwNDNEXHUwNDMwIFx1MDQzQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQzMFx1MDQ0NS5cIlxuICAgIH0sXG4gICAgXCJob3RrZXlzSGVhZGluZ1wiOiBcIlx1MDQxRFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzOVx1MDQzQVx1MDQzOCBcdTA0MzNcdTA0M0VcdTA0NDBcdTA0NEZcdTA0NDdcdTA0MzhcdTA0NDUgXHUwNDNBXHUwNDNCXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDQ4XCIsXG4gICAgXCJob3RrZXlzRGVzY1wiOiBcIlx1MDQxRFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzOVx1MDQ0Mlx1MDQzNSBcdTA0NDFcdTA0M0VcdTA0NDdcdTA0MzVcdTA0NDJcdTA0MzBcdTA0M0RcdTA0MzhcdTA0NEYgXHUwNDNBXHUwNDNCXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDQ4IFx1MDQzNFx1MDQzQlx1MDQ0RiBcdTA0MzFcdTA0NEJcdTA0NDFcdTA0NDJcdTA0NDBcdTA0M0VcdTA0MzNcdTA0M0UgXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDQyXHUwNDNFXHUwNDQwXHUwNDM1XHUwNDNEXHUwNDM4XHUwNDRGIFx1MDQzQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQS4gXHUwNDFEXHUwNDMwXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDRDXHUwNDQyXHUwNDM1IFx1MDQzM1x1MDQzRVx1MDQ0MFx1MDQ0Rlx1MDQ0N1x1MDQzOFx1MDQzNSBcdTA0M0FcdTA0M0JcdTA0MzBcdTA0MzJcdTA0MzhcdTA0NDhcdTA0MzggXHUwNDMyIFx1MDQxRFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzOVx1MDQzQVx1MDQzOCA+IFx1MDQxM1x1MDQzRVx1MDQ0MFx1MDQ0Rlx1MDQ0N1x1MDQzOFx1MDQzNSBcdTA0M0FcdTA0M0JcdTA0MzBcdTA0MzJcdTA0MzhcdTA0NDhcdTA0MzggPiBNZW1NYXN0ZXIuXCIsXG4gICAgXCJzb3VyY2VNb2RlXCI6IHtcbiAgICAgIFwidGFnXCI6IFwiXHUwNDIyXHUwNDM1XHUwNDMzXCIsXG4gICAgICBcImZvbGRlclwiOiBcIlx1MDQxRlx1MDQzMFx1MDQzRlx1MDQzQVx1MDQzMFwiXG4gICAgfVxuICB9LFxuICBcInJldmlld0ZsYXNoY2FyZFwiOiB7XG4gICAgXCJkaWZmaWN1bHR5UXVlc3Rpb25cIjogXCJcdTA0MURcdTA0MzBcdTA0NDFcdTA0M0FcdTA0M0VcdTA0M0JcdTA0NENcdTA0M0FcdTA0M0UgXHUwNDQxXHUwNDNCXHUwNDNFXHUwNDM2XHUwNDNEXHUwNDNFXHUwNDM5IFx1MDQzMVx1MDQ0Qlx1MDQzQlx1MDQzMCBcdTA0NERcdTA0NDJcdTA0MzAgXHUwNDNBXHUwNDMwXHUwNDQwXHUwNDQyXHUwNDNFXHUwNDQ3XHUwNDNBXHUwNDMwP1wiLFxuICAgIFwiZWFzeVwiOiBcIlx1MDQxQlx1MDQzNVx1MDQzM1x1MDQzQVx1MDQzRVwiLFxuICAgIFwibWVkaXVtXCI6IFwiXHUwNDIxXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDNEXHUwNDM1XCIsXG4gICAgXCJoYXJkXCI6IFwiXHUwNDIxXHUwNDNCXHUwNDNFXHUwNDM2XHUwNDNEXHUwNDNFXCJcbiAgfSxcbiAgXCJyZXZpZXdMaXN0XCI6IHtcbiAgICBcInZpZXdUaXRsZVwiOiBcIlx1MDQxQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQzOCBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDQyXHUwNDNFXHUwNDQwXHUwNDM1XHUwNDNEXHUwNDM4XHUwNDRGXCIsXG4gICAgXCJzZWFyY2hQbGFjZWhvbGRlclwiOiBcIlx1MDQxRlx1MDQzRVx1MDQzOFx1MDQ0MVx1MDQzQSBcdTA0M0FcdTA0MzBcdTA0NDBcdTA0NDJcdTA0M0VcdTA0NDdcdTA0MzVcdTA0M0EuLi5cIixcbiAgICBcIm5vRmxhc2hjYXJkc1wiOiBcIlx1MDQxRFx1MDQzNVx1MDQ0MiBcdTA0M0FcdTA0MzBcdTA0NDBcdTA0NDJcdTA0M0VcdTA0NDdcdTA0MzVcdTA0M0EgXHUwNDM0XHUwNDNCXHUwNDRGIFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQ0Mlx1MDQzRVx1MDQ0MFx1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0Ri5cIixcbiAgICBcIm5vU2VhcmNoUmVzdWx0c1wiOiBcIlx1MDQxQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQzOCBcdTA0M0RcdTA0MzUgXHUwNDNEXHUwNDMwXHUwNDM5XHUwNDM0XHUwNDM1XHUwNDNEXHUwNDRCLlwiLFxuICAgIFwib3ZlcmR1ZUJ5RGF5c1wiOiBcIlx1MDQxRlx1MDQ0MFx1MDQzRVx1MDQ0MVx1MDQ0MFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzRSBcdTA0M0RcdTA0MzAge3tkYXlzfX0gXHUwNDM0XHUwNDNELlwiLFxuICAgIFwiZHVlVG9kYXlcIjogXCJcdTA0MjFcdTA0MzVcdTA0MzNcdTA0M0VcdTA0MzRcdTA0M0RcdTA0NEZcIixcbiAgICBcInNvcnRMYWJlbFwiOiBcIlx1MDQyMVx1MDQzRVx1MDQ0MFx1MDQ0Mlx1MDQzOFx1MDQ0MFx1MDQzRVx1MDQzMlx1MDQzQVx1MDQzMDpcIixcbiAgICBcInNvcnRPbGRlc3RGaXJzdFwiOiBcIlx1MDQyMVx1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzMFx1MDQzQlx1MDQzMCBcdTA0NDFcdTA0MzBcdTA0M0NcdTA0NEJcdTA0MzUgXHUwNDNGXHUwNDQwXHUwNDNFXHUwNDQxXHUwNDQwXHUwNDNFXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRCXHUwNDM1XCIsXG4gICAgXCJzb3J0TmV3ZXN0Rmlyc3RcIjogXCJcdTA0MjFcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzBcdTA0M0JcdTA0MzAgXHUwNDNEXHUwNDMwXHUwNDM4XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDM1XHUwNDM1IFx1MDQzRlx1MDQ0MFx1MDQzRVx1MDQ0MVx1MDQ0MFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0Qlx1MDQzNVwiXG4gIH0sXG4gIFwibm90aWNlc1wiOiB7XG4gICAgXCJub3RBRmxhc2hjYXJkXCI6IFwiXHUwNDJEXHUwNDQyXHUwNDNFXHUwNDQyIFx1MDQzNFx1MDQzRVx1MDQzQVx1MDQ0M1x1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0MiBcdTA0M0RcdTA0MzUgXHUwNDRGXHUwNDMyXHUwNDNCXHUwNDRGXHUwNDM1XHUwNDQyXHUwNDQxXHUwNDRGIFx1MDQzQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQzRVx1MDQzOVwiLFxuICAgIFwibm9BY3RpdmVGaWxlXCI6IFwiXHUwNDFEXHUwNDM1XHUwNDQyIFx1MDQzMFx1MDQzQVx1MDQ0Mlx1MDQzOFx1MDQzMlx1MDQzRFx1MDQzRVx1MDQzM1x1MDQzRSBcdTA0NDRcdTA0MzBcdTA0MzlcdTA0M0JcdTA0MzBcIixcbiAgICBcImZsYXNoY2FyZENyZWF0ZWRcIjogXCJcdTA0MTRcdTA0M0VcdTA0M0FcdTA0NDNcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDIgXHUwNDNFXHUwNDQyXHUwNDNDXHUwNDM1XHUwNDQ3XHUwNDM1XHUwNDNEIFx1MDQzQVx1MDQzMFx1MDQzQSBcdTA0M0FcdTA0MzBcdTA0NDBcdTA0NDJcdTA0M0VcdTA0NDdcdTA0M0FcdTA0MzBcIixcbiAgICBcInRhZ0FkZGVkXCI6IFwiXHUwNDIyXHUwNDM1XHUwNDMzIFx1MDQzNFx1MDQzRVx1MDQzMVx1MDQzMFx1MDQzMlx1MDQzQlx1MDQzNVx1MDQzRDoge3t0YWd9fVwiLFxuICAgIFwibW92ZWRUb0ZvbGRlclwiOiBcIlx1MDQxRlx1MDQzNVx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQ0OVx1MDQzNVx1MDQzRFx1MDQzRSBcdTA0MzIgXHUwNDNGXHUwNDMwXHUwNDNGXHUwNDNBXHUwNDQzOiB7e2ZvbGRlcn19XCIsXG4gICAgXCJhbHJlYWR5Rmxhc2hjYXJkXCI6IFwiXHUwNDJEXHUwNDQyXHUwNDNFXHUwNDQyIFx1MDQzNFx1MDQzRVx1MDQzQVx1MDQ0M1x1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0MiBcdTA0NDNcdTA0MzZcdTA0MzUgXHUwNDRGXHUwNDMyXHUwNDNCXHUwNDRGXHUwNDM1XHUwNDQyXHUwNDQxXHUwNDRGIFx1MDQzQVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQzRVx1MDQzOVwiLFxuICAgIFwiY2FyZE1hc3RlcmVkXCI6IFwiXHUwNDFBXHUwNDMwXHUwNDQwXHUwNDQyXHUwNDNFXHUwNDQ3XHUwNDNBXHUwNDMwIFx1MDQzRVx1MDQ0MVx1MDQzMlx1MDQzRVx1MDQzNVx1MDQzRFx1MDQzMCEgXHUwNDFDXHUwNDM1XHUwNDQyXHUwNDMwXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDNEXHUwNDRCXHUwNDM1IFx1MDQzRVx1MDQ0N1x1MDQzOFx1MDQ0OVx1MDQzNVx1MDQzRFx1MDQ0Qi5cIixcbiAgICBcImNhcmRVcGRhdGVkXCI6IFwiXHUwNDFBXHUwNDMwXHUwNDQwXHUwNDQyXHUwNDNFXHUwNDQ3XHUwNDNBXHUwNDMwIFx1MDQzRVx1MDQzMVx1MDQzRFx1MDQzRVx1MDQzMlx1MDQzQlx1MDQzNVx1MDQzRFx1MDQzMDogXHUwNDQxXHUwNDNCXHUwNDM1XHUwNDM0XHUwNDQzXHUwNDRFXHUwNDQ5XHUwNDM1XHUwNDM1IFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQ0Mlx1MDQzRVx1MDQ0MFx1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNSB7e2RhdGV9fVwiXG4gIH1cbn1cblxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUE0RDs7O0FDVTVELElBQU0sbUJBQTRDO0FBQUEsRUFDakQsWUFBWTtBQUFBLEVBQ1osU0FBUztBQUFBLEVBQ1QsWUFBWTtBQUFBLEVBQ1oscUJBQXFCO0FBQUEsRUFDckIsbUJBQW1CO0FBQ3BCO0FB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QUssYUFBYTtBQUFBLE1BQ3ZCLE1BQU0sZUFBZTtBQUFBLE1BQ3JCLFFBQVE7QUFBQSxJQUNULENBQUM7QUFFRCxTQUFLLElBQUksVUFBVSxXQUFXLElBQUk7QUFBQSxFQUNuQztBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFNBQUssV0FBVyxNQUFNLGFBQWEsSUFBSTtBQUFBLEVBQ3hDO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxhQUFhLE1BQU0sS0FBSyxRQUFRO0FBQUEsRUFDdkM7QUFBQSxFQUVBLE1BQWMsdUJBQXVCLE1BQWEsWUFBd0M7QUFFekYsVUFBTSxjQUFjLE1BQU0sZ0JBQWdCLE1BQU0sSUFBSTtBQUVwRCxRQUFJLENBQUMsYUFBYTtBQUNqQixVQUFJLHdCQUFPLEtBQUssS0FBSyxFQUFFLHVCQUF1QixDQUFDO0FBQy9DO0FBQUEsSUFDRDtBQUdBLFVBQU0sbUJBQW1CLE1BQU0sTUFBTSxVQUFVO0FBQUEsRUFDaEQ7QUFBQSxFQUVBLE1BQWMsc0JBQXNCLE1BQWE7QUFFaEQsVUFBTSxjQUFjLE1BQU0sSUFBSTtBQUFBLEVBQy9CO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
